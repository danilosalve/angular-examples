import{a as ae}from"./chunk-W76JX73M.js";import{a as oe,b as ne}from"./chunk-APB777JP.js";import{a as te}from"./chunk-QTXX665V.js";import{a as ee}from"./chunk-A674P7YC.js";import{a as ie}from"./chunk-UY4QYXD6.js";import{$ as G,Ba as J,D as q,F as O,Ga as K,Ha as Q,N as W,Na as U,P as $,Qa as X,Ua as Y,Va as Z,_ as R,qa as H}from"./chunk-HCPK7XEO.js";import{E as j,o as z,t as B}from"./chunk-MDUUVM26.js";import{$b as r,Cc as h,Dc as T,P as E,Ub as g,Vb as _,Vc as k,Wc as I,Xb as P,Yb as V,Zb as A,_b as l,ac as s,bc as v,db as c,dd as N,ia as x,ic as b,jd as C,kd as w,nc as u,oa as m,oc as p,pa as d,vb as f,xa as y,zb as F}from"./chunk-QL522RBE.js";import"./chunk-RTRJ3KFH.js";function le(e,t){if(e&1&&v(0,"po-tag",6),e&2){let n=t.$implicit;l("p-value",n)}}function me(e,t){if(e&1){let n=b();r(0,"po-widget",1),u("p-primary-action",function(){m(n);let o=p();return d(o.onClickEdit())})("p-secondary-action",function(){m(n);let o=p();return d(o.onClickView())}),r(1,"div",2),v(2,"po-image",3),s(),r(3,"div",4)(4,"p",5),h(5),s(),r(6,"div"),V(7,le,1,1,"po-tag",6,P),s(),r(9,"div",7)(10,"p",8),h(11,"Dura\xE7\xE3o:"),s(),r(12,"p",9),h(13),s()(),r(14,"div",7)(15,"p",8),h(16,"Data de lan\xE7amento:"),s(),r(17,"p",9),h(18),k(19,"date"),s()()()()}if(e&2){let n=p();l("p-height",n.height());let i=n.item().image||"assets/img/not-found-image.jpg";c(2),l("p-src",i)("p-height",200),c(3),T(n.item().name),c(2),A(n.genres()),c(6),T(n.item().duration),c(5),T(I(19,6,n.item().releaseDate))}}var re=(()=>{let t=class t{constructor(){this.item=w.required(),this.editAction=C(),this.viewAction=C(),this.genres=N(()=>this.item().genre.split(",")),this.height=y(300),this.device=x(ie)}ngOnInit(){this.device.isSmartPhone()&&this.height.set(550)}onClickEdit(){this.editAction.emit(this.item().id)}onClickView(){this.viewAction.emit(this.item().id)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-card"]],inputs:{item:[1,"item"]},outputs:{editAction:"editAction",viewAction:"viewAction"},decls:1,vars:1,consts:[["p-primary-label","Editar","p-secondary-label","Visualizar",1,"po-xl-4","po-lg-6","po-md-12","po-sm-12","po-mb-2",3,"p-height"],["p-primary-label","Editar","p-secondary-label","Visualizar",1,"po-xl-4","po-lg-6","po-md-12","po-sm-12","po-mb-2",3,"p-primary-action","p-secondary-action","p-height"],[1,"po-md-5","po-lg-5"],["p-loading","lazy","p-alt","Capa do filme",3,"p-src","p-height"],[1,"po-md-7","po-lg-7"],[1,"po-font-subtitle","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"po-mr-1",3,"p-value"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"po-font-text-bold","po-mt-2"],[1,"po-font-text"]],template:function(o,a){o&1&&g(0,me,20,8,"po-widget",0),o&2&&_(a.item()?0:-1)},dependencies:[Q,K,O,q,Z,Y,B,z],encapsulation:2});let e=t;return e})();var de=(e,t)=>t.id;function ce(e,t){if(e&1){let n=b();r(0,"app-card",2),u("editAction",function(o){m(n);let a=p(2);return d(a.onClickEdit(o))})("viewAction",function(o){m(n);let a=p(2);return d(a.onClickView(o))}),s()}if(e&2){let n=t.$implicit;l("item",n)}}function ue(e,t){e&1&&(r(0,"p",1),h(1,"Nenhum dado encontrado"),s())}function ge(e,t){if(e&1&&V(0,ce,1,1,"app-card",0,de,!1,ue,2,0,"p",1),e&2){let n=p();A(n.items())}}function _e(e,t){e&1&&v(0,"po-loading-overlay")}var se=(()=>{let t=class t{constructor(){this.items=w.required(),this.editAction=C(),this.viewAction=C(),this.isLoading=w(!1)}onClickEdit(i){this.editAction.emit(i)}onClickView(i){this.viewAction.emit(i)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-cards"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},outputs:{editAction:"editAction",viewAction:"viewAction"},decls:2,vars:2,consts:[[3,"item"],[1,"po-font-text-bold"],[3,"editAction","viewAction","item"]],template:function(o,a){o&1&&(g(0,ge,3,1),g(1,_e,1,0,"po-loading-overlay")),o&2&&(_(a.items()?0:-1),c(),_(a.isLoading()?1:-1))},dependencies:[$,W,re],encapsulation:2});let e=t;return e})();function Ce(e,t){if(e&1&&v(0,"po-table",0),e&2){let n=p();l("p-actions",n.actions)("p-items",n.items())("p-loading",n.isLoading())("p-height",n.height)("p-columns",n.columns)("p-draggable",!0)("p-sort",!0)("p-hide-columns-manager",!0)}}var pe=(()=>{let t=class t extends oe{constructor(){let i=[".po-page-header",".po-table-actions",".app-search",".footer"];super(400,i),this.items=w.required(),this.isLoading=w(!1),this.editAction=C(),this.viewAction=C(),this.columns=this.getColumns(),this.actions=[{label:"Editar",icon:"an an-pencil-simple",action:this.onClickEdit.bind(this)},{label:"Visualizar",icon:"an an-eye",action:this.onClickView.bind(this)}]}ngAfterViewInit(){this.onResize()}getColumns(){return[{property:"id",label:"Id",sortable:!0,type:"number"},{property:"name",label:"Nome",sortable:!0,type:"string"},{property:"duration",label:"Dura\xE7\xE3o",sortable:!0,type:"string",visible:this.isColumnVisible()},{property:"releaseDate",label:"Data de Lan\xE7amento",sortable:!0,type:"date",visible:this.isColumnVisible()},{property:"genre",label:"G\xEAnero",sortable:!0,type:"string",visible:this.isColumnVisible()}]}isColumnVisible(){return window.innerWidth>480}onClickEdit(i){this.editAction.emit(i.id)}onClickView(i){this.viewAction.emit(i.id)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-table"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},outputs:{editAction:"editAction",viewAction:"viewAction"},features:[F],decls:1,vars:1,consts:[["p-container","shadow",3,"p-actions","p-items","p-loading","p-height","p-columns","p-draggable","p-sort","p-hide-columns-manager"]],template:function(o,a){o&1&&g(0,Ce,1,8,"po-table",0),o&2&&_(a.items()?0:-1)},dependencies:[J,H],encapsulation:2});let e=t;return e})();function fe(e,t){if(e&1){let n=b();r(0,"app-table",8),u("editAction",function(o){m(n);let a=p();return d(a.onFilmEdit(o))})("viewAction",function(o){m(n);let a=p();return d(a.onFilmView(o))}),s()}if(e&2){let n=p();l("items",n.items)("isLoading",n.isLoading)}}function he(e,t){if(e&1){let n=b();r(0,"app-cards",8),u("editAction",function(o){m(n);let a=p();return d(a.onFilmEdit(o))})("viewAction",function(o){m(n);let a=p();return d(a.onFilmView(o))}),s()}if(e&2){let n=p();l("items",n.items)("isLoading",n.isLoading)}}var He=(()=>{let t=class t{constructor(){this.filmsService=x(ae),this.router=x(j),this.actions=[{label:"Novo",action:()=>this.router.navigate(["sample/in-memory/films/new/"])}],this.isLoading=!1,this.isTableView=y(!0),this.items=[]}ngOnInit(){this.getAllFilms()}onShowMore(){}onChangeFilter(i){this.isLoading=!0,this.filmsService.getByName(i).pipe(E(()=>this.isLoading=!1)).subscribe({next:o=>this.items=o})}onChangeTypeView(i){this.isTableView.set(i)}getAllFilms(){this.isLoading=!0,this.filmsService.getAllFilms().pipe(E(()=>this.isLoading=!1)).subscribe({next:i=>this.items=i})}onFilmEdit(i){this.isLoading=!0,this.router.navigate(["sample/in-memory/films/edit/",i])}onFilmView(i){this.isLoading=!0,this.router.navigate(["sample/in-memory/films/detail/",i])}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-list"]],decls:10,vars:3,consts:[["p-title","Filmes | Lista de Filmes","p-subtitle","Exemplo de uso do Angular memory web API",3,"p-actions"],[1,"po-row"],[1,"po-xl-1","po-lg-2","po-md-6","po-sm-12","po-mt-1",3,"changeTypeView"],[1,"po-offset-lg-6","po-offset-xl-8","po-xl-3","po-lg-4","po-offset-lg-6","po-md-6","po-sm-12","po-mb-1",3,"changeInValue"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-1"],[3,"items","isLoading"],[1,"footer","po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-4"],[3,"clickShowMore","isDisabled"],[3,"editAction","viewAction","items","isLoading"]],template:function(o,a){o&1&&(r(0,"po-page-default",0)(1,"div",1)(2,"app-type-list-button",2),u("changeTypeView",function(L){return a.onChangeTypeView(L)}),s(),r(3,"app-search",3),u("changeInValue",function(L){return a.onChangeFilter(L)}),s()(),r(4,"div",1)(5,"po-container",4),g(6,fe,1,2,"app-table",5)(7,he,1,2,"app-cards",5),s()(),r(8,"po-container",6)(9,"app-show-more-button",7),u("clickShowMore",function(){return a.onShowMore()}),s()()()),o&2&&(l("p-actions",a.actions),c(6),_(a.isTableView()?6:7),c(3),l("isDisabled",!0))},dependencies:[G,R,X,U,ee,ne,te,pe,se],encapsulation:2});let e=t;return e})();export{He as ListComponent};
