import{a as Ce,b as ke}from"./chunk-2TJ7B4WN.js";import{a as he}from"./chunk-VCCOFI3U.js";import{A as V,B as I,C as pe,Ca as de,D as E,Ea as ce,Ka as ue,La as fe,P as re,aa as D,ba as F,j as Y,k as Z,la as se,p as ee,r as oe,ra as ae,u as te,v as ne,va as me,wa as le,x as ie}from"./chunk-CFTYIETL.js";import{j as X}from"./chunk-YQH3U43A.js";import{$b as S,Bc as A,Cb as g,Cd as J,E as G,Ea as L,Ed as K,Fa as c,Fc as U,I as W,J as j,Kd as Q,P as z,Pc as v,Q as B,Qc as y,Ub as s,_b as _,a as R,bc as b,cc as T,dc as i,ec as p,fc as a,ib as r,ja as h,jc as x,lc as P,mc as d,o as q,t as M,ta as C,ua as k,wb as l,yc as u,zc as N}from"./chunk-EQ2ZZIGX.js";import"./chunk-4CLCTAJ7.js";function ve(e,m){if(e&1&&(i(0,"p",0),u(1),p()),e&2){let o,t=d();r(),A(" Exibindo: 1 - ",(o=t.pokemons())==null||o.results==null?null:o.results.length," de ",(o=t.pokemons())==null?null:o.count," ")}}var ge=(()=>{class e{constructor(){this.pokemons=c.required()}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=l({type:e,selectors:[["app-pokemon-results"]],inputs:{pokemons:[1,"pokemons"]},decls:1,vars:1,consts:[[1,"po-font-text-small","po-xl-12","po-lg-12","po-md-12","po-sm-12"]],template:function(t,n){t&1&&g(0,ve,2,2,"p",0),t&2&&_(n.pokemons()?0:-1)},encapsulation:2})}}return e})();var _e=(()=>{class e{constructor(){this.fb=h(ne),this.notifcation=h(re),this.changeInValue=L(),this.form=this.fb.group({search:[""]}),this.search$=new R}ngOnInit(){this.onChangeValue()}ngOnDestroy(){this.search$.unsubscribe()}onChangeValue(){this.search$=this.form.valueChanges.pipe(j(300),z(),G(o=>(o?.search?.length||0)>=3||!o.search?.length),M(o=>o.search?.toLowerCase())).subscribe({next:o=>this.changeInValue.emit(o||""),error:()=>this.notifcation.error("Falha executar filtro")})}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=l({type:e,selectors:[["app-search"]],outputs:{changeInValue:"changeInValue"},decls:2,vars:2,consts:[[3,"formGroup"],["p-icon","an an-magnifying-glass","p-placeholder","Pesquisar...","formControlName","search","name","search","p-clean","",3,"p-no-autocomplete"]],template:function(t,n){t&1&&(i(0,"form",0),a(1,"po-input",1),p()),t&2&&(s("formGroup",n.form),r(),s("p-no-autocomplete",!0))},dependencies:[ae,se,ie,ee,Y,Z,oe,te],encapsulation:2})}}return e})();function ye(e,m){if(e&1&&a(0,"app-types-of-pokemon",5),e&2){let o=m.$implicit;s("typeofPokemon",o.type.name)}}function we(e,m){if(e&1){let o=x();i(0,"po-widget",1),P("p-click",function(){C(o);let n=d();return k(n.onClick())}),a(1,"po-image",2),i(2,"p",3),u(3),v(4,"idPokemon"),p(),i(5,"p",4),u(6),v(7,"titlecase"),p(),b(8,ye,1,1,"app-types-of-pokemon",5,S),p()}if(e&2){let o=d();r(),s("p-src",o.pokemon().sprites.other["official-artwork"].front_default||o.pokemon().sprites.front_default||""),r(2),N(y(4,3,o.pokemon().id)),r(3),N(y(7,5,o.pokemon().name)),r(2),T(o.pokemon().types)}}function Me(e,m){e&1&&(i(0,"p"),u(1,"Pokemon inv\xE1lido"),p())}var Pe=(()=>{class e{constructor(){this.pokemon=c.required(),this.router=h(X)}onClick(){this.router.navigate([`/pokedex/detail/${this.pokemon().id}`])}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=l({type:e,selectors:[["app-pokemon-card"]],inputs:{pokemon:[1,"pokemon"]},decls:2,vars:1,consts:[[1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2"],[1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2",3,"p-click"],["p-loading","lazy","p-alt","Imagem do pokemon",3,"p-src"],[1,"po-font-text-smaller"],[1,"po-font-text-large-bold"],[3,"typeofPokemon"]],template:function(t,n){t&1&&g(0,we,10,7,"po-widget",0)(1,Me,2,0,"p"),t&2&&_(n.pokemon()?0:1)},dependencies:[fe,ue,le,me,K,Ce,ke],encapsulation:2})}}return e})();function Le(e,m){if(e&1&&a(0,"app-pokemon-card",1),e&2){let o=m.$implicit;s("pokemon",o)}}function Se(e,m){if(e&1){let o=x();i(0,"po-container",0),b(1,Le,1,1,"app-pokemon-card",1,S),p(),i(3,"po-container",2)(4,"po-button",3),P("p-click",function(){C(o);let n=d();return k(n.onShowMore())}),p()()}if(e&2){let o,t,n=d();r(),T((o=n.pokemons())==null?null:o.results),r(3),s("p-disabled",((t=n.pokemons())==null?null:t.next)===null)("p-loading",!n.isHideLoading())}}function be(e,m){e&1&&a(0,"po-loading-overlay",4)}function Te(e,m){e&1&&(i(0,"po-container",2)(1,"p",5),u(2,"Nenhum Pok\xE9mon foi encontrado"),p()())}function Ve(e,m){if(e&1&&g(0,be,1,0,"po-loading-overlay",4)(1,Te,3,0,"po-container",2),e&2){let o=d();_(o.isLoadShowMore()?0:1)}}var xe=(()=>{class e{constructor(){this.pokemons=c.required(),this.isLoadShowMore=c(!1),this.isHideLoading=c(!1),this.showMore=L()}onShowMore(){this.showMore.emit()}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=l({type:e,selectors:[["app-list-of-pokemons-cards"]],inputs:{pokemons:[1,"pokemons"],isLoadShowMore:[1,"isLoadShowMore"],isHideLoading:[1,"isHideLoading"]},outputs:{showMore:"showMore"},decls:2,vars:1,consts:[[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-2"],[3,"pokemon"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-4"],["p-label","Carregar mais","p-kind","primary",1,"po-offset-md-3","po-offset-lg-4","po-offset-xl-4","po-xl-4","po-lg-4","po-md-6","po-sm-12",3,"p-click","p-disabled","p-loading"],["p-text","Carregando lista de Pok\xE9mons"],[1,"po-font-text-bold"]],template:function(t,n){t&1&&g(0,Se,5,2)(1,Ve,2,1),t&2&&_(n.pokemons()?0:1)},dependencies:[F,D,I,V,Pe,E,pe],encapsulation:2})}}return e})();var lo=(()=>{class e{constructor(){this.pokemonService=h(he),this.results=[],this.isHideLoading=!1,this.offset=0,this.isLoadShowMore=!1}ngOnInit(){this.getPokemons(0)}onShowMore(){this.isLoadShowMore=!0,this.offset+=12,this.getPokemons(this.offset)}getPokemons(o){this.pokemons$=this.pokemonService.getListPokemonsWithDetail(o).pipe(W(t=>{let{count:n,next:f,previous:H,results:w}=t;return this.results=this.results.concat(w),q(w).pipe(M(()=>({count:n,next:f,previous:H,results:this.results})))}),B(()=>this.isHideLoading=!0))}onChangeFilter(o){this.isLoadShowMore=!1,this.results=[],o?this.pokemons$=this.pokemonService.getByNameWithDetail(o).pipe(B(()=>this.isHideLoading=!0)):(this.offset=0,this.getPokemons(0))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=l({type:e,selectors:[["app-pokemon-list"]],decls:9,vars:7,consts:[["p-title","Pokedex"],[1,"po-row"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-2"],[1,"po-xl-3","po-lg-4","po-md-8","po-sm-12","po-mb-1",3,"changeInValue"],[3,"pokemons"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-2",3,"showMore","pokemons","isLoadShowMore","isHideLoading"],[3,"hidden"]],template:function(t,n){if(t&1){let f=x();i(0,"po-page-default",0),U(1),v(2,"async"),i(3,"div",1)(4,"po-container",2)(5,"app-search",3),P("changeInValue",function(w){return C(f),k(n.onChangeFilter(w))}),p(),a(6,"app-pokemon-results",4),p(),i(7,"app-list-of-pokemons-cards",5),P("showMore",function(){return C(f),k(n.onShowMore())}),p()()(),a(8,"po-loading-overlay",6)}if(t&2){let f=y(2,5,n.pokemons$);r(6),s("pokemons",f),r(),s("pokemons",f)("isLoadShowMore",n.isLoadShowMore)("isHideLoading",n.isHideLoading),r(),s("hidden",n.isHideLoading)}},dependencies:[Q,J,ce,de,I,V,F,D,E,_e,ge,xe],encapsulation:2})}}return e})();export{lo as PokemonListComponent};
