import{B as s,Ba as C,Bb as J,Da as H,Ea as k,Hb as K,I as f,Ib as V,L as D,N as _,U as a,V as h,W as M,X as F,Y as m,Z as l,_ as c,b as U,ba as A,ca as $,d as P,fa as u,g as S,h as L,ha as b,i as w,ib as N,jb as j,l as x,mb as O,na as g,nb as q,oa as y,p as d,pa as v,qa as B,sb as z,tb as R,vb as W,wb as Q,xa as I,y as T,zb as G}from"./chunk-IMZFTPQL.js";import"./chunk-4CLCTAJ7.js";var X=(()=>{class e{transform(t,i){let{type:o,query:n}=i;return n=n.trim().toLowerCase(),n?o==="displayName"?t.filter(p=>p.displayname.toLowerCase().includes(n)):o==="id"?t.filter(p=>p.id.toLowerCase().includes(n)):t.filter(p=>p.displayname.toLowerCase().includes(n)||p.id.toLowerCase().includes(n)):t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=D({name:"filterByDescription",type:e,pure:!0})}}return e})();var Y="http://localhost:8282/rest";var Z=(()=>{class e{constructor(){this.http=d(k)}getUsers(t=1,i=20){let o=new H({page:t,pageSize:i,Authorization:this.getToken("ADMIN","1234")});return this.http.get(`${Y}/api/framework/getusers`,{headers:o}).pipe(w())}getToken(t,i){return`Basic ${btoa(`${t}:${i}`)}`}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var oe=(e,r)=>r.id;function re(e,r){if(e&1&&(m(0,"po-widget",1),c(1,"po-info",3)(2,"po-info",4),l()),e&2){let t=r.$implicit,i=r.$index;a("p-title",t.displayname),s(),a("p-value",t.id),s(),a("p-value",(i+1).toString())}}function ne(e,r){e&1&&(m(0,"p",2),u(1,"N\xE3o h\xE1 items."),l())}var ee=(()=>{class e{constructor(){this.users=T.required()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=f({type:e,selectors:[["app-user"]],inputs:{users:[1,"users"]},decls:4,vars:1,consts:[[1,"po-row"],[1,"po-mt-2","po-sm-4",3,"p-title"],[1,"po-font-text-bold","po-mt-2"],["p-label","Usu\xE1rio",3,"p-value"],["p-label","Qtd",3,"p-value"]],template:function(i,o){i&1&&(m(0,"div",0),M(1,re,3,3,"po-widget",1,oe,!1,ne,2,0,"p",2),l()),i&2&&(s(),F(o.users()))},dependencies:[C,V,K,Q,W],encapsulation:2,changeDetection:0})}}return e})();var se=(e,r)=>({users:e,usersError:r}),pe=(e,r)=>({type:e,query:r});function ae(e,r){if(e&1&&(c(0,"app-user",5),y(1,"filterByDescription")),e&2){let t=$(2);a("users",B(1,1,r.data,g(4,pe,t.filterType,t.filter)))}}function le(e,r){e&1&&(m(0,"p"),u(1,"Ops, ocorreu erro ao tentar listar os Usu\xE1rios :("),l(),u(2)),e&2&&(s(2),b(" ",r.message," "))}function me(e,r){if(e&1&&_(0,ae,2,7,"app-user",5)(1,le,3,1),e&2){let t,i,o=r;h((t=!o.usersError&&o.users)?0:-1,t),s(),h((i=o.usersError)?1:-1,i)}}var te=(()=>{class e{constructor(){this.filter="",this.filterType="All",this.isHideLoading=!1,this.usersService=d(Z),this.filterSelect=[{label:"Usu\xE1rio",value:"id"},{label:"Nome",value:"displayName"}]}ngOnInit(){this.users$=this.usersService.getUsers().pipe(L(()=>this.isHideLoading=!0)),this.usersError$=this.users$.pipe(S(),P(t=>U(t)))}changeFilter(t){this.filter=t.value,this.filterType=Array.isArray(t.filter)?"All":t.filter}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=f({type:e,selectors:[["app-list-users"]],decls:8,vars:10,consts:[["p-title","Usu\xE1rios","p-subtitle","Listar Usu\xE1rios"],[1,"po-row"],[1,"po-mb-5","po-xl-12"],[3,"p-filter","p-filter-select"],["p-text","Carregando usu\xE1rios",3,"hidden"],[3,"users"]],template:function(i,o){if(i&1&&(m(0,"po-page-default",0)(1,"span",1)(2,"po-container",2)(3,"po-search",3),A("p-filter",function(p){return o.changeFilter(p)}),l(),_(4,me,2,2),y(5,"async"),y(6,"async"),l()()(),c(7,"po-loading-overlay",4)),i&2){let n;s(3),a("p-filter-select",o.filterSelect),s(),h((n=g(7,se,v(5,3,o.users$),v(6,5,o.usersError$)))?4:-1,n),s(3),a("hidden",o.isHideLoading)}},dependencies:[C,I,J,G,j,N,q,O,X,ee,R,z],encapsulation:2,changeDetection:0})}}return e})();var He=[{path:"",component:te}];export{He as USERS_ROUTES};
