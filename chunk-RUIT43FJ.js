import{a as re,b as se}from"./chunk-H3WPPAHY.js";import{a as pe}from"./chunk-3UI4NOFK.js";import{a as oe}from"./chunk-XRSHLMIG.js";import{a as ae}from"./chunk-ND5PJGSD.js";import"./chunk-A5RZBEBZ.js";import"./chunk-WDJTCEVW.js";import{$ as j,Aa as K,Ea as X,Fa as Y,La as ee,N as Q,Na as te,O as W,P as S,Q as Z,Ra as ie,Sa as ne,_ as $,pa as G,wa as T,za as J}from"./chunk-3H4NJUFE.js";import{D as N,s as O,t as U}from"./chunk-SBPM3P26.js";import{$b as C,Ac as H,Bb as k,Cb as u,Cc as L,Da as w,Ea as g,Ha as b,Jc as V,Kc as M,Lc as x,Sc as q,Ub as l,Vc as A,cc as R,dc as I,ec as o,fc as a,gc as v,hb as z,ia as P,jb as _,kc as y,pc as c,qc as r,sa as m,sb as F,ta as d,xb as f,zc as B}from"./chunk-ROBB4PN5.js";import"./chunk-JKOY2XUY.js";function ue(t,p){if(t&1&&v(0,"po-table",0),t&2){let e=r();l("p-items",e.items())("p-loading",e.isLoading())("p-height",e.height)("p-columns",e.columns)("p-draggable",!0)("p-sort",!0)("p-actions",e.actions)("p-hide-columns-manager",!0)}}var ce=(()=>{class t extends re{constructor(){let e=[".po-page-header",".po-table-actions",".app-search",".footer"];super(400,e),this.items=g.required(),this.isLoading=g(!1),this.viewDetail=w(),this.actions=[{label:"Remover",icon:"an an-trash",disabled:!0},{label:"Detalhes",action:this.onViewDetail.bind(this),icon:"an an-arrow-square-in"}],this.columns=[{property:"_id",label:"C\xF3digo",type:"number",width:"8%",sortable:!0},{property:"name",label:"Nome",type:"string",sortable:!0},{property:"name",label:"Fandon",link:"sourceUrl",type:"link",width:"20%",sortable:!0}]}ngAfterViewInit(){this.onResize()}onViewDetail(e){this.viewDetail.emit(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-disney-characters-table"]],hostBindings:function(i,n){i&1&&c("resize",function(){return n.onResize()},!1,z)},inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},outputs:{viewDetail:"viewDetail"},features:[k],decls:1,vars:1,consts:[["p-container","shadow",3,"p-items","p-loading","p-height","p-columns","p-draggable","p-sort","p-actions","p-hide-columns-manager"]],template:function(i,n){i&1&&u(0,ue,1,8,"po-table",0),i&2&&C(n.items()?0:-1)},dependencies:[J,G],encapsulation:2})}}return t})();function Ce(t,p){if(t&1){let e=y();V(0),o(1,"po-widget",1),q(2,"slice"),c("p-click",function(){m(e);let n=r();return d(n.onViewDetail())})("p-title-action",function(){m(e);let n=r();return d(n.onTitleAction())}),V(3),v(4,"po-image",2),a()}if(t&2){let e=r(),i=e.item().name;_(),l("p-title",i.length>30?A(2,4,i,0,30)+"...":i)("p-height",280);let n=e.item().imageUrl||"assets/img/not-found-image.jpg";_(3),l("p-src",n)("p-height",200)}}var me=(()=>{class t{constructor(){this.item=g.required(),this.viewDetail=w()}onViewDetail(){this.viewDetail.emit(this.item())}onTitleAction(){window.open(this.item().sourceUrl,"_blank")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-disney-character-card"]],inputs:{item:[1,"item"]},outputs:{viewDetail:"viewDetail"},decls:1,vars:1,consts:[["appZoomOnHover","",1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2",3,"p-title","p-height"],["appZoomOnHover","",1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2",3,"p-click","p-title-action","p-title","p-height"],["p-loading","lazy","p-alt","Imagem do personagem da Disney",3,"p-src","p-height"]],template:function(i,n){i&1&&u(0,Ce,5,8,"po-widget",0),i&2&&C(n.item()?0:-1)},dependencies:[U,O,ne,ie,Y,X,ae],encapsulation:2})}}return t})();var he=(t,p)=>p._id;function ge(t,p){if(t&1){let e=y();o(0,"app-disney-character-card",2),c("viewDetail",function(n){m(e);let s=r(2);return d(s.onViewDetail(n))}),a()}if(t&2){let e=p.$implicit;l("item",e)}}function fe(t,p){t&1&&(o(0,"p",1),L(1,"Nenhum dado encontrado"),a())}function ye(t,p){if(t&1&&R(0,ge,1,1,"app-disney-character-card",0,he,!1,fe,2,0,"p",1),t&2){let e=r();I(e.items())}}var de=(()=>{class t{constructor(){this.items=g.required(),this.isLoading=g(!1),this.viewDetail=w()}onViewDetail(e){this.viewDetail.emit(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-disney-characters-list"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},outputs:{viewDetail:"viewDetail"},decls:1,vars:1,consts:[[3,"item"],[1,"po-font-text-bold"],[3,"viewDetail","item"]],template:function(i,n){i&1&&u(0,ye,3,1),i&2&&C(n.items()?0:-1)},dependencies:[me,S],encapsulation:2})}}return t})();function we(t,p){if(t&1){let e=y();o(0,"app-disney-characters-table",10),c("viewDetail",function(n){m(e);let s=r(3);return d(s.onViewDetail(n))}),a()}if(t&2){r(3);let e=x(1),i=x(3);l("items",e.data)("isLoading",i)}}function ve(t,p){if(t&1){let e=y();o(0,"app-disney-characters-list",10),c("viewDetail",function(n){m(e);let s=r(3);return d(s.onViewDetail(n))}),a()}if(t&2){r(3);let e=x(1),i=x(3);l("items",e.data)("isLoading",i)}}function xe(t,p){if(t&1&&(o(0,"div",1)(1,"po-container",4),u(2,we,1,2,"app-disney-characters-table",9)(3,ve,1,2,"app-disney-characters-list",9),a()()),t&2){let e=r(2);_(2),C(e.isTableView()?2:3)}}function De(t,p){if(t&1&&u(0,xe,4,1,"div",1),t&2){r();let e=x(1);C(e?0:-1)}}function be(t,p){t&1&&(o(0,"po-container",4)(1,"p",11),L(2,"Nenhum personagem foi encontrado"),a()())}function Le(t,p){t&1&&(o(0,"po-container",4)(1,"p",11),L(2,"Ops, ocorreu erro ao tentar listar os Personagens :("),a()())}var Xe=(()=>{class t{constructor(){this.isTableView=b(!0),this.disneyService=P(pe),this.disneyResource=this.disneyService.getCharacters,this.filter=b(""),this.optionsSize=[{label:"12",value:12},{label:"50",value:50},{label:"100",value:100}],this.page=b(1),this.poSelect=F(T),this.size=b(12),this.router=P(N)}ngAfterContentInit(){this.poSelect().modelValue=this.size()}onChangeSize(e){this.size.set(e),this.disneyService.updatePagination(1,this.size())}onShowMore(){this.page.update(e=>e+1),this.disneyService.updatePagination(1,this.size()*this.page())}onChangeFilter(e){this.disneyService.setFilter(e)}onChangeTypeView(e){this.isTableView.set(e)}onViewDetail(e){this.router.navigate([`sample/resources-api/disney/detail/${e._id}`])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-characters-list"]],viewQuery:function(i,n){i&1&&B(n.poSelect,T,5),i&2&&H()},decls:15,vars:8,consts:[["p-title","Personagens | Disney","p-subtitle","RxResource - Pagina\xE7\xE3o"],[1,"po-row"],[1,"po-xl-1","po-lg-2","po-md-6","po-sm-12","po-mt-1",3,"changeTypeView"],[1,"po-offset-lg-6","po-offset-xl-8","po-xl-3","po-lg-4","po-offset-lg-6","po-md-6","po-sm-12","po-mb-1",3,"changeInValue"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-1"],[1,"footer","po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-lg-3"],["p-label","Carregar mais resultados","p-kind","primary",1,"po-offset-lg-4","po-offset-xl-4","po-xl-4","po-lg-4","po-md-6","po-sm-12","po-mt-4",3,"p-click","p-disabled","p-loading"],["p-label","Itens por p\xE1gina","name","size",1,"po-offset-lg-2","po-offset-xl-2","po-sm-12","po-md-6","po-lg-2","po-xl-2",3,"p-change","p-options"],["p-text","Carregando personagens",3,"hidden"],[3,"items","isLoading"],[3,"viewDetail","items","isLoading"],[1,"po-font-text-bold"]],template:function(i,n){if(i&1){let s=y();o(0,"po-page-default",0),V(1)(2)(3)(4),o(5,"div",1)(6,"app-type-list-button",2),c("changeTypeView",function(h){return m(s),d(n.onChangeTypeView(h))}),a(),o(7,"app-search",3),c("changeInValue",function(h){return m(s),d(n.onChangeFilter(h))}),a()(),u(8,De,1,1)(9,be,3,0,"po-container",4),o(10,"div",5)(11,"po-button",6),c("p-click",function(){return m(s),d(n.onShowMore())}),a(),o(12,"po-select",7),c("p-change",function(h){return m(s),d(n.onChangeSize(h))}),a()(),u(13,Le,3,0,"po-container",4),v(14,"po-loading-overlay",8),a()}if(i&2){_();let s=M(n.disneyResource.value()),D=n.disneyResource.hasValue();_(2);let h=M(n.disneyResource.isLoading()),_e=n.disneyResource.error();_(5),C(D?8:9),_(3),l("p-disabled",(s==null||s.info==null?null:s.info.nextPage)===null)("p-loading",h),_(),l("p-options",n.optionsSize),_(),C(_e?13:-1),_(),l("hidden",!h)}},dependencies:[te,ee,K,T,Z,W,S,Q,oe,j,$,se,de,ce],encapsulation:2})}}return t})();export{Xe as CharactersListComponent};
