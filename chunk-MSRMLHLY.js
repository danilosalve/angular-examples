import{a as ae,b as re}from"./chunk-UC5HF43J.js";import{a as ne}from"./chunk-Z52HUWYJ.js";import"./chunk-433D6B2K.js";import{a as ie}from"./chunk-EOPLUMPH.js";import{$ as Z,D as B,Ea as Q,F as j,Fa as X,L as N,La as Y,M as $,N as q,Na as ee,O as U,P as V,Q as W,Ra as te,Sa as oe,_ as H,pa as J,za as K}from"./chunk-RT4L6TJ3.js";import{t as A}from"./chunk-ZOMRHQQG.js";import{$b as u,Bb as D,Cb as d,Cc as m,Dc as w,Ea as g,Fc as R,Ha as C,Jc as x,Kc as M,Lc as b,Nc as O,Ub as s,ca as P,cc as F,dc as k,ec as i,fc as n,gc as c,ia as I,jb as a,kc as G,ld as z,pc as T,qc as h,sa as y,ta as L,xb as f}from"./chunk-TTU3ZVAH.js";import{e as S}from"./chunk-JKOY2XUY.js";var se=(()=>{class t{constructor(){this.apiUrl="https://rickandmortyapi.com/api/character",this.name=C(""),this.page=C(1),this.characters=[],this.getCharacters=z({request:()=>({page:this.page(),name:this.name()}),loader:r=>S(this,[r],function*({request:e,abortSignal:o}){let{page:_,name:v}=e;try{let l=yield(yield fetch(`${this.apiUrl}/?page=${_}&name=${v}`,{signal:o})).json();return this.characters.length>0?this.characters=this.characters.concat(l.results):this.characters=l.results,l=this.characters,l}catch(l){this.handleError(l)}})})}updatePage(e){this.page.set(e)}setFilter(e){this.characters=[],this.page.set(1),this.name.set(e)}handleError(e){throw e}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function de(t,p){if(t&1&&c(0,"po-table",0),t&2){let e=h();s("p-items",e.items())("p-loading",e.isLoading())("p-height",e.height)("p-columns",e.columns)("p-draggable",!0)("p-sort",!0)("p-hide-columns-manager",!0)}}var le=(()=>{class t extends ae{constructor(){let e=[".po-page-header",".po-table-actions",".app-search",".footer"];super(400,e),this.items=g.required(),this.isLoading=g(!1),this.columns=this.getColumns()}ngAfterViewInit(){this.onResize()}getColumns(){return[{property:"id",label:"Id",sortable:!0,type:"number"},{property:"name",label:"Nome",sortable:!0,type:"string"},{property:"status",label:"Status",sortable:!0,type:"label",visible:this.IsColumnVisible(),labels:[{value:"Alive",color:"color-10",label:"Vivo"},{value:"Dead",color:"color-02",label:"Morto"},{value:"unknown",color:"color-07",label:"Desconhecido"}]},{property:"species",label:"Esp\xE9cie",sortable:!0,type:"string",visible:this.IsColumnVisible()},{property:"gender",label:"G\xEAnero",sortable:!0,type:"label",visible:this.IsColumnVisible(),labels:[{value:"Female",color:"color-06",label:"Feminino"},{value:"Male",color:"color-02",label:"Masculino"},{value:"Genderless",color:"color-08",label:"Sem g\xEAnero"},{value:"unknown",color:"color-07",label:"Desconhecido"}]},{property:"location.name",label:"Localiza\xE7\xE3o",sortable:!0,type:"string",visible:this.IsColumnVisible()},{property:"type",label:"Tipo",sortable:!0,type:"string",visible:!1}]}IsColumnVisible(){return window.innerWidth>480}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-characters-table"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},features:[D],decls:1,vars:1,consts:[["p-container","shadow",3,"p-items","p-loading","p-height","p-columns","p-draggable","p-sort","p-hide-columns-manager"]],template:function(o,r){o&1&&d(0,de,1,7,"po-table",0),o&2&&u(r.items()?0:-1)},dependencies:[K,J],encapsulation:2})}}return t})();function ue(t,p){if(t&1&&(i(0,"po-widget",0)(1,"div",1)(2,"div",2),x(3),c(4,"po-image",3),n(),i(5,"div",4)(6,"p",5),m(7),n(),i(8,"div"),x(9),i(10,"div",6),c(11,"po-badge",7),n(),i(12,"p",8),m(13),n(),c(14,"po-tag",9),n(),i(15,"div",10)(16,"p",11),m(17,"\xDAltima localiza\xE7\xE3o registrada:"),n(),i(18,"p",12),m(19),n()(),i(20,"div",10)(21,"p",11),m(22,"Origem:"),n(),i(23,"p",12),m(24),n()()()()()),t&2){let e=h();s("p-height",250);let o=e.item().image||"assets/img/not-found-image.jpg";a(4),s("p-src",o)("p-height",200),a(3),w(e.item().name);let r=e.item().status==="Alive"?"positive":e.item().status==="Dead"?"negative":"disabled";a(4),s("p-status",r),a(2),R("",e.item().status," - ",e.item().species,""),a(),s("p-color",e.getGenderColor(e.item().gender))("p-value",e.getGenderValue(e.item().gender)),a(5),w(e.item().location.name),a(5),w(e.item().origin.name)}}var he={Female:"color-06",Male:"color-02",Genderless:"color-08",unknown:"color-07"},ge={Female:"Feminino",Male:"Masculino",Genderless:"Sem g\xEAnero",unknown:"Desconhecido"},ce=(()=>{class t{constructor(){this.item=g.required()}getGenderColor(e){return he[e]}getGenderValue(e){return ge[e]}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-character-card"]],inputs:{item:[1,"item"]},decls:1,vars:1,consts:[["appZoomOnHover","",1,"po-xl-4","po-lg-6","po-md-12","po-sm-12","po-mb-2",3,"p-height"],[1,"po-row"],[1,"po-md-5","po-lg-5"],["p-loading","lazy","p-alt","Imagem do personagem da Disney",3,"p-src","p-height"],[1,"po-md-7","po-lg-7"],[1,"po-font-subtitle","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[2,"display","flex","align-items","center","position","relative"],["p-size","small",2,"top","-10px",3,"p-status"],[1,"po-font-text-large","po-xl-7","po-lg-7","po-md-7","po-sm-7"],[3,"p-color","p-value"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"po-font-text-bold","po-mt-2"],[1,"po-font-text"]],template:function(o,r){o&1&&d(0,ue,25,11,"po-widget",0),o&2&&u(r.item()?0:-1)},dependencies:[A,$,N,X,Q,j,B,oe,te,ne],encapsulation:2})}}return t})();var Ce=(t,p)=>p.id;function fe(t,p){if(t&1&&c(0,"app-character-card",0),t&2){let e=p.$implicit;s("item",e)}}function _e(t,p){t&1&&(i(0,"p",1),m(1,"Nenhum dado encontrado"),n())}function ve(t,p){if(t&1&&F(0,fe,1,1,"app-character-card",0,Ce,!1,_e,2,0,"p",1),t&2){let e=h();k(e.items())}}var me=(()=>{class t{constructor(){this.items=g.required(),this.isLoading=g(!1)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-characters-card"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},decls:1,vars:1,consts:[[3,"item"],[1,"po-font-text-bold"]],template:function(o,r){o&1&&d(0,ve,3,1),o&2&&u(r.items()?0:-1)},dependencies:[ce,V],encapsulation:2})}}return t})();var be=()=>[];function xe(t,p){if(t&1&&c(0,"app-characters-table",8),t&2){h(3);let e=b(1),o=b(4);s("items",e)("isLoading",o)}}function ye(t,p){if(t&1&&c(0,"app-characters-card",8),t&2){h(3);let e=b(1),o=b(4);s("items",e)("isLoading",o)}}function Le(t,p){if(t&1&&(i(0,"div",1)(1,"po-container",4),d(2,xe,1,2,"app-characters-table",8)(3,ye,1,2,"app-characters-card",8),n()()),t&2){let e=h(2);a(2),u(e.isTableView()?2:3)}}function Te(t,p){if(t&1&&d(0,Le,4,1,"div",1),t&2){h();let e=b(1);u(e?0:-1)}}function we(t,p){t&1&&(i(0,"po-container",4)(1,"p",9),m(2,"Nenhum personagem foi encontrado"),n()())}function Ve(t,p){t&1&&(i(0,"po-container",4)(1,"p",9),m(2,"Ops, ocorreu erro ao tentar listar os Personagens :("),n()())}var tt=(()=>{class t{constructor(){this.isTableView=C(!0),this.filter=C(""),this.page=C(1),this.size=C(12),this.characterService=I(se),this.charactersResource=this.characterService.getCharacters}onShowMore(){this.page.update(e=>e+1),this.characterService.updatePage(this.page())}onChangeFilter(e){this.characterService.setFilter(e)}onChangeTypeView(e){this.isTableView.set(e)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-characters-list"]],decls:14,vars:7,consts:[["p-title","Rick & Morty | Lista de Personagens","p-subtitle","Exemplo de uso da API resource "],[1,"po-row"],[1,"po-xl-1","po-lg-2","po-md-6","po-sm-12","po-mt-1",3,"changeTypeView"],[1,"po-offset-lg-6","po-offset-xl-8","po-xl-3","po-lg-4","po-offset-lg-6","po-md-6","po-sm-12","po-mb-1",3,"changeInValue"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-1"],[1,"footer","po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-lg-3"],["p-label","Carregar mais resultados","p-kind","primary",1,"po-offset-lg-4","po-offset-xl-4","po-xl-4","po-lg-4","po-md-6","po-sm-12","po-mt-4",3,"p-click","p-loading"],["p-text","Carregando personagens",3,"hidden"],[3,"items","isLoading"],[1,"po-font-text-bold"]],template:function(o,r){if(o&1){let _=G();i(0,"po-page-default",0),x(1)(2)(3)(4),i(5,"div",1)(6,"app-type-list-button",2),T("changeTypeView",function(l){return y(_),L(r.onChangeTypeView(l))}),n(),i(7,"app-search",3),T("changeInValue",function(l){return y(_),L(r.onChangeFilter(l))}),n()(),d(8,Te,1,1)(9,we,3,0,"po-container",4),i(10,"div",5)(11,"po-button",6),T("p-click",function(){return y(_),L(r.onShowMore())}),n()(),d(12,Ve,3,0,"po-container",4),c(13,"po-loading-overlay",7),n()}if(o&2){a(),M(r.charactersResource.value()||O(6,be));let _=r.charactersResource.error(),v=r.charactersResource.hasValue();a(3);let l=M(r.charactersResource.isLoading());a(4),u(v?8:9),a(3),s("p-loading",l),a(),u(_?12:-1),a(),s("hidden",!l)}},dependencies:[W,U,Z,H,ee,Y,V,q,ie,re,me,le],encapsulation:2})}}return t})();export{tt as CharactersListComponent};
