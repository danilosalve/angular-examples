import{a as re}from"./chunk-5R5DMX6X.js";import{a as oe}from"./chunk-S7N2ULP7.js";import{$ as J,C as R,Ca as X,Da as Y,E as z,La as Z,N as G,Na as ee,P as W,Ra as te,Sa as ie,_ as Q,oa as K,ya as V}from"./chunk-YZE3LA2X.js";import{E as O,l as H,s as j,t as v}from"./chunk-GZ5CQKZC.js";import{$b as u,Cc as h,Dd as q,Ec as b,G as x,M as F,P as T,Sc as _,Ub as y,V as U,Vb as C,Vc as d,Wc as E,Xc as $,Yb as L,Yc as B,Zb as w,_b as l,ac as m,bc as f,da as D,db as p,ia as c,kd as N,nc as A,oc as I,p as P,vb as g,yb as M,zd as k}from"./chunk-Q5SQV2E5.js";import"./chunk-RTRJ3KFH.js";var ne=(()=>{let e=class e{transform(o,i){let r=i.type,s=i.query.trim().toLowerCase();return s?r==="displayName"?o.filter(a=>a.displayname.toLowerCase().includes(s)):r==="id"?o.filter(a=>a.id.toLowerCase().includes(s)):o.filter(a=>a.displayname.toLowerCase().includes(s)||a.id.toLowerCase().includes(s)):o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=M({name:"filterByDescription",type:e,pure:!0});let t=e;return t})();var se="http://localhost:8282/rest";var pe=(()=>{let e=class e{constructor(){this.http=c(q)}getUsers(o=1,i=20){let r=new k({page:o,pageSize:i,Authorization:this.getToken("ADMIN","1234")});return this.http.get(`${se}/api/framework/getusers`,{headers:r}).pipe(U())}getToken(o,i){return`Basic ${btoa(`${o}:${i}`)}`}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var de=(t,e)=>e.id;function fe(t,e){if(t&1&&(u(0,"po-widget",0),d(1,"slice"),f(2,"po-info",2)(3,"po-info",3),m()),t&2){let n=e.$implicit,o=e.$index,i=n.displayname;l("p-title",i.length>30?B(1,4,i,0,30)+"...":i)("p-tooltip",i),p(2),l("p-value",n.id),p(),l("p-value",(o+1).toString())}}function he(t,e){t&1&&(u(0,"p",1),h(1,"N\xE3o h\xE1 items."),m())}var ae=(()=>{let e=class e{constructor(){this.users=N.required()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=g({type:e,selectors:[["app-user"]],inputs:{users:[1,"users"]},decls:3,vars:1,consts:[["p-tooltip-position","top-left",1,"po-mt-2","po-sm-12","po-md-6","po-lg-4","po-xl-3",3,"p-title","p-tooltip"],[1,"po-font-text-bold","po-mt-2"],["p-label","Usu\xE1rio",3,"p-value"],["p-label","Qtd",3,"p-value"]],template:function(i,r){i&1&&L(0,fe,4,8,"po-widget",0,de,!1,he,2,0,"p",1),i&2&&w(r.users())},dependencies:[v,ie,te,Y,X,z,R,j],encapsulation:2,changeDetection:0});let t=e;return t})();var ge=(t,e)=>({users:t,usersError:e}),ye=(t,e)=>({type:t,query:e});function Ce(t,e){if(t&1&&(f(0,"app-user",5),d(1,"filterByDescription")),t&2){let n=I(2);l("users",$(1,1,e.data,_(4,ye,n.filterType,n.filter)))}}function ve(t,e){t&1&&(u(0,"p"),h(1,"Ops, ocorreu erro ao tentar listar os Usu\xE1rios :("),m(),h(2)),t&2&&(p(2),b(" ",e.message," "))}function _e(t,e){if(t&1&&(y(0,Ce,2,7,"app-user",5),y(1,ve,3,1)),t&2){let n,o,i=e;C((n=!i.usersError&&i.users)?0:-1,n),p(),C((o=i.usersError)?1:-1,o)}}var le=(()=>{let e=class e{constructor(){this.filter="",this.filterType="All",this.isHideLoading=!1,this.usersService=c(pe),this.filterSelect=[{label:"Usu\xE1rio",value:"id"},{label:"Nome",value:"displayName"}]}ngOnInit(){this.users$=this.usersService.getUsers().pipe(T(()=>this.isHideLoading=!0)),this.usersError$=this.users$.pipe(F(),x(o=>P(o)))}changeFilter(o){this.filter=o.value,this.filterType=Array.isArray(o.filter)?"All":o.filter}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=g({type:e,selectors:[["app-list-users"]],decls:8,vars:10,consts:[["appIsDeveloperMode","","resourceName","'Usu\xE1rios'","p-title","Usu\xE1rios","p-subtitle","Exemplo de operador aSync com tratament de erro"],[1,"po-row"],[1,"po-mb-5","po-xl-12"],[3,"p-filter","p-filter-select"],["p-text","Carregando usu\xE1rios",3,"hidden"],[3,"users"]],template:function(i,r){if(i&1&&(u(0,"po-page-default",0)(1,"span",1)(2,"po-container",2)(3,"po-search",3),A("p-filter",function(a){return r.changeFilter(a)}),m(),y(4,_e,2,2),d(5,"async"),d(6,"async"),m()()(),f(7,"po-loading-overlay",4)),i&2){let s;p(3),l("p-filter-select",r.filterSelect),p(),C((s=_(7,ge,E(5,3,r.users$),E(6,5,r.usersError$)))?4:-1,s),p(3),l("hidden",r.isHideLoading)}},dependencies:[v,ee,Z,W,G,J,Q,ae,V,K,re,H,ne],encapsulation:2,changeDetection:0});let t=e;return t})();function ce(t){return()=>{let e=c(oe),n=c(O);return e.hasFlags(t)||n.createUrlTree(["access-denied"])}}var Ye=[{path:"",component:le,canActivate:[ce(["users"])]}];export{Ye as USERS_ROUTES};
