import{a as m}from"./chunk-R4QK6BD3.js";import{Fa as z,Ha as G,T as w,U as I,X as k,ba as j,ca as D,k as y,l as E,n as x,p as B,q as F,ra as W,ua as q,x as T}from"./chunk-TASQVI4A.js";import"./chunk-O3VMFEQ5.js";import{Ac as N,Bc as C,Cc as _,Dc as M,Dd as b,Nc as P,Pc as S,ac as g,bc as h,ca as f,cc as n,dc as a,hb as p,ia as o,kc as v,rb as d,vb as u,xc as l}from"./chunk-767J7M2A.js";import"./chunk-JKOY2XUY.js";var L=(()=>{class e{constructor(){this.eventBus=o(m)}sendNotification(t){let i={message:t,timestamp:new Date};this.eventBus.cast("notification",i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var A=(e,r)=>r.message;function H(e,r){if(e&1&&(n(0,"div",6),l(1),P(2,"date"),a()),e&2){let t=r.$implicit;p(),N("",t.message," (",S(2,2,t.timestamp,"shortTime"),")")}}function J(e,r){e&1&&(n(0,"p"),l(1,"Nenhuma mensagem encontrada."),a())}var ae=(()=>{class e{constructor(){this.message=d(""),this.notifications=[],this.notificationService=o(L),this.poNotification=o(k),this.eventBus=o(m)}sendMessage(){if(!this.message()){this.poNotification.error("Mensagem n\xE3o pode ser vazia");return}this.notificationService.sendNotification(this.message()),this.message.update(()=>"")}ngOnInit(){this.eventBus.on("notification").subscribe(t=>{this.notifications.push(t.data)})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=u({type:e,selectors:[["app-notifications"]],inputs:{message:[1,"message"]},outputs:{message:"messageChange"},decls:10,vars:2,consts:[["p-title","Notifica\xE7\xF5es","p-subtitle","Exemplo de uso do ng-event-bus"],[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mb-2"],["p-label","Mensagem","name","message","p-help","Insira a mensagem que deseja notificar o usuario","p-placeholder","Insira a sua mensagem aqui...",3,"ngModelChange","ngModel"],["p-label","Enviar","p-kind","primary",3,"p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-font-text"]],template:function(i,s){i&1&&(n(0,"po-page-default",0)(1,"div",1)(2,"po-container",2)(3,"form")(4,"po-textarea",3),M("ngModelChange",function(c){return _(s.message,c)||(s.message=c),c}),a(),n(5,"po-button",4),v("p-click",function(){return s.sendMessage()}),a()()(),n(6,"po-container",5),g(7,H,3,5,"div",6,A,!1,J,2,0,"p"),a()()()),i&2&&(p(4),C("ngModel",s.message),p(3),h(s.notifications))},dependencies:[G,z,q,W,I,w,T,F,y,E,B,x,b,D,j],encapsulation:2})}}return e})();export{ae as NotificationsComponent};
