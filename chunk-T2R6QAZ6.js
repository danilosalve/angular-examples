import{Ab as V,B as p,Bb as X,Da as k,Ea as C,Eb as Y,Ga as j,Gb as Z,Ha as O,I as h,L as w,Mb as ee,N as g,Nb as te,U as a,V as y,W as M,X as F,Y as m,Z as l,_ as u,b as P,ba as A,ca as B,d as U,fa as d,g as S,gb as q,h as L,ha as $,i as T,ib as z,l as x,ma as b,nb as R,oa as _,ob as W,p as f,pa as c,qa as v,ra as I,rb as Q,sa as H,sb as G,xb as J,y as D,yb as K,za as N}from"./chunk-2CXSXRFG.js";import"./chunk-4CLCTAJ7.js";var ie=(()=>{class e{transform(t,i){let{type:o,query:n}=i;return n=n.trim().toLowerCase(),n?o==="displayName"?t.filter(s=>s.displayname.toLowerCase().includes(n)):o==="id"?t.filter(s=>s.id.toLowerCase().includes(n)):t.filter(s=>s.displayname.toLowerCase().includes(n)||s.id.toLowerCase().includes(n)):t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=w({name:"filterByDescription",type:e,pure:!0})}}return e})();var oe="http://localhost:8282/rest";var re=(()=>{class e{constructor(){this.http=f(O)}getUsers(t=1,i=20){let o=new j({page:t,pageSize:i,Authorization:this.getToken("ADMIN","1234")});return this.http.get(`${oe}/api/framework/getusers`,{headers:o}).pipe(T())}getToken(t,i){return`Basic ${btoa(`${t}:${i}`)}`}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var le=(e,r)=>r.id;function me(e,r){if(e&1&&(b(0),m(1,"po-widget",0),c(2,"slice"),u(3,"po-info",2)(4,"po-info",3),l()),e&2){let t=r.$implicit,i=r.$index,o=t.displayname;p(),a("p-title",o.length>30?H(2,4,o,0,30)+"...":o)("p-tooltip",o),p(2),a("p-value",t.id),p(),a("p-value",(i+1).toString())}}function ce(e,r){e&1&&(m(0,"p",1),d(1,"N\xE3o h\xE1 items."),l())}var ne=(()=>{class e{constructor(){this.users=D.required()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=h({type:e,selectors:[["app-user"]],inputs:{users:[1,"users"]},decls:3,vars:1,consts:[["p-tooltip-position","top-left",1,"po-mt-2","po-sm-12","po-md-6","po-lg-4","po-xl-3",3,"p-title","p-tooltip"],[1,"po-font-text-bold","po-mt-2"],["p-label","Usu\xE1rio",3,"p-value"],["p-label","Qtd",3,"p-value"]],template:function(i,o){i&1&&M(0,me,5,8,"po-widget",0,le,!1,ce,2,0,"p",1),i&2&&F(o.users())},dependencies:[C,k,te,ee,X,V,z,q],encapsulation:2,changeDetection:0})}}return e})();var ue=(e,r)=>({users:e,usersError:r}),de=(e,r)=>({type:e,query:r});function fe(e,r){if(e&1&&(u(0,"app-user",5),c(1,"filterByDescription")),e&2){let t=B(2);a("users",I(1,1,r.data,_(4,de,t.filterType,t.filter)))}}function he(e,r){e&1&&(m(0,"p"),d(1,"Ops, ocorreu erro ao tentar listar os Usu\xE1rios :("),l(),d(2)),e&2&&(p(2),$(" ",r.message," "))}function ye(e,r){if(e&1&&g(0,fe,2,7,"app-user",5)(1,he,3,1),e&2){let t,i,o=r;y((t=!o.usersError&&o.users)?0:-1,t),p(),y((i=o.usersError)?1:-1,i)}}var pe=(()=>{class e{constructor(){this.filter="",this.filterType="All",this.isHideLoading=!1,this.usersService=f(re),this.filterSelect=[{label:"Usu\xE1rio",value:"id"},{label:"Nome",value:"displayName"}]}ngOnInit(){this.users$=this.usersService.getUsers().pipe(L(()=>this.isHideLoading=!0)),this.usersError$=this.users$.pipe(S(),U(t=>P(t)))}changeFilter(t){this.filter=t.value,this.filterType=Array.isArray(t.filter)?"All":t.filter}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=h({type:e,selectors:[["app-list-users"]],decls:8,vars:10,consts:[["p-title","Usu\xE1rios","p-subtitle","Listar Usu\xE1rios"],[1,"po-row"],[1,"po-mb-5","po-xl-12"],[3,"p-filter","p-filter-select"],["p-text","Carregando usu\xE1rios",3,"hidden"],[3,"users"]],template:function(i,o){if(i&1&&(m(0,"po-page-default",0)(1,"span",1)(2,"po-container",2)(3,"po-search",3),A("p-filter",function(s){return o.changeFilter(s)}),l(),g(4,ye,2,2),c(5,"async"),c(6,"async"),l()()(),u(7,"po-loading-overlay",4)),i&2){let n;p(3),a("p-filter-select",o.filterSelect),p(),y((n=_(7,ue,v(5,3,o.users$),v(6,5,o.usersError$)))?4:-1,n),p(3),a("hidden",o.isHideLoading)}},dependencies:[C,N,Z,Y,W,R,G,Q,ie,ne,K,J],encapsulation:2,changeDetection:0})}}return e})();var qe=[{path:"",component:pe}];export{qe as USERS_ROUTES};
