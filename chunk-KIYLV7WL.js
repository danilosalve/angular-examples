import{a as m}from"./chunk-NEMISEDH.js";import{Fa as O,Ha as z,M as I,N as k,R as D,S as j,ga as W,k as y,l as E,n as x,p as w,q as F,ra as $,ua as q,x as T}from"./chunk-EY4PQBT6.js";import"./chunk-PT7B6MVV.js";import{o as S}from"./chunk-X3GKO6FF.js";import{Cc as l,Fc as C,Gc as _,Hc as M,Ic as b,Sc as B,Uc as P,a as f,ca as u,cc as h,dc as v,ec as n,fc as a,ia as o,jb as p,pc as N,tb as d,xb as g}from"./chunk-WCLJ7DBJ.js";import"./chunk-JKOY2XUY.js";var G=(()=>{class e{constructor(){this.eventBus=o(m)}sendNotification(t){let i={message:t,timestamp:new Date};this.eventBus.cast("notification",i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var A=(e,r)=>r.message;function H(e,r){if(e&1&&(n(0,"div",6),l(1),B(2,"date"),a()),e&2){let t=r.$implicit;p(),C("",t.message," (",P(2,2,t.timestamp,"shortTime"),")")}}function J(e,r){e&1&&(n(0,"p"),l(1,"Nenhuma mensagem encontrada."),a())}var re=(()=>{class e{constructor(){this.message=d(""),this.eventBus$=new f,this.notifications=[],this.notificationService=o(G),this.poNotification=o(W),this.eventBus=o(m)}sendMessage(){if(!this.message()){this.poNotification.error("Mensagem n\xE3o pode ser vazia");return}this.notificationService.sendNotification(this.message()),this.message.update(()=>"")}ngOnInit(){this.eventBus$=this.eventBus.on("notification").subscribe(t=>{this.notifications.push(t.data)})}ngOnDestroy(){this.eventBus$.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["app-notifications"]],inputs:{message:[1,"message"]},outputs:{message:"messageChange"},decls:10,vars:2,consts:[["p-title","Notifica\xE7\xF5es","p-subtitle","Exemplo de uso do ng-event-bus"],[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mb-2"],["p-label","Mensagem","name","message","p-help","Insira a mensagem que deseja notificar o usuario","p-placeholder","Insira a sua mensagem aqui...",3,"ngModelChange","ngModel"],["p-label","Enviar","p-kind","primary",3,"p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-font-text"]],template:function(i,s){i&1&&(n(0,"po-page-default",0)(1,"div",1)(2,"po-container",2)(3,"form")(4,"po-textarea",3),b("ngModelChange",function(c){return M(s.message,c)||(s.message=c),c}),a(),n(5,"po-button",4),N("p-click",function(){return s.sendMessage()}),a()()(),n(6,"po-container",5),h(7,H,3,5,"div",6,A,!1,J,2,0,"p"),a()()()),i&2&&(p(4),_("ngModel",s.message),p(3),v(s.notifications))},dependencies:[z,O,q,$,k,I,T,F,y,E,w,x,S,j,D],encapsulation:2})}}return e})();export{re as NotificationsComponent};
