import{a as Z}from"./chunk-OVHNBS3M.js";import{b as Y}from"./chunk-7CYETYYZ.js";import{$ as z,Aa as K,D as G,F as H,Ma as O,Na as X,_ as Q,k as T,l as W,n as j,p as L,q as x,qa as A,va as J,x as U}from"./chunk-YZE3LA2X.js";import{r as B,t as F}from"./chunk-GZ5CQKZC.js";import{$b as s,Cc as d,Dd as R,Ec as f,Fc as P,Gc as D,Hc as E,Ic as k,Vc as _,Xc as V,_b as g,ac as l,bc as q,da as b,db as r,dd as u,fd as y,ia as m,ic as I,nc as C,oa as h,pa as v,t as S,vb as w,xa as M,zb as N}from"./chunk-Q5SQV2E5.js";import"./chunk-RTRJ3KFH.js";var $=(()=>{let t=class t{constructor(){this.vehicleUrl="https://swapi.py4e.com/api/vehicles",this.http=m(R),this.selectedVehicle=M(void 0),this.quantity=y({source:this.selectedVehicle,computation:e=>e?e.passengers==0?e.crew:e.passengers:0}),this.costInCredits=y({source:this.selectedVehicle,computation:e=>e?isNaN(e.cost_in_credits)?0:e.cost_in_credits:0}),this.total=u(()=>(isNaN(this.selectedVehicle()?.cost_in_credits||0)?0:this.selectedVehicle()?.cost_in_credits??0)*this.quantity()),this.color=u(()=>this.total()===0?"color-07":this.total()>5e4?"color-10":"color-02"),this.vehiclesResource=Y({stream:()=>this.http.get(this.vehicleUrl).pipe(S(e=>e.results))}),this.vehicles=u(()=>this.vehiclesResource.value()??[]),this.options=u(()=>this.vehiclesResource.value()?.map(e=>({value:e.name,label:`${e.name} - ${e.passengers}`}))??[])}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var Ce=(()=>{let t=class t extends Z{constructor(){super("signals/samples"),this.vehicleService=m($),this.color=this.vehicleService.color,this.quantity=this.vehicleService.quantity,this.selectedVehicle=this.vehicleService.selectedVehicle,this.total=this.vehicleService.total,this.vehicles=this.vehicleService.vehicles,this.options=this.vehicleService.options,this.costInCredits=this.vehicleService.costInCredits}onVehicleSelected(e){let o=this.vehicles().find(i=>i.name===e);this.selectedVehicle.set(o)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=w({type:t,selectors:[["app-star-wars-vehicle"]],features:[N],decls:18,vars:19,consts:[["f","ngForm"],["p-title","Veiculos","p-subtitle","Exemplo Linked Signals",3,"p-back"],["name","options","data-cy","cb-vehicle","p-label","Veiculo","p-placeholder","Selecione um veiculo",3,"p-change","p-options","p-required","p-show-required","p-remove-initial-filter"],["p-label","Quantidade","data-cy","input-quantity","name","quantity","p-required","",3,"ngModelChange","ngModel","p-min","p-show-required"],["p-title","Resumo da venda"],[1,"po-font-text-large"],[3,"p-color"]],template:function(o,i){if(o&1){let n=I();s(0,"po-page-detail",1),C("p-back",function(){return h(n),v(i.onBack())}),s(1,"po-container")(2,"form",null,0)(4,"po-combo",2),C("p-change",function(p){return h(n),v(i.onVehicleSelected(p))}),l(),s(5,"po-number",3),k("ngModelChange",function(p){return h(n),E(i.quantity,p)||(i.quantity=p),v(p)}),l()()(),s(6,"po-container",4)(7,"p",5),d(8),l(),s(9,"p",5),d(10),l(),s(11,"p",5),d(12),_(13,"currency"),l(),s(14,"p",5),d(15),_(16,"currency"),l(),q(17,"po-tag",6),l()()}if(o&2){let n,c;r(4),g("p-options",i.options())("p-required",!0)("p-show-required",!0)("p-remove-initial-filter",!0),r(),D("ngModel",i.quantity),g("p-min",1)("p-show-required",!0),r(3),P(" Veiculo Selecionado: ",(n=i.selectedVehicle())==null?null:n.name," - ",(n=i.selectedVehicle())==null?null:n.passengers," "),r(2),f("Capacidade de passageiros: ",(c=i.selectedVehicle())==null?null:c.passengers),r(2),f("Pre\xE7o do veiculo: ",V(13,13,i.costInCredits(),"BRL")),r(3),f("Total: ",V(16,16,i.total(),"BRL")),r(2),g("p-color",i.color())}},dependencies:[X,O,z,Q,K,A,J,G,H,U,x,T,W,L,j,F,B],encapsulation:2});let a=t;return a})();export{Ce as StarWarsVehicleComponent};
