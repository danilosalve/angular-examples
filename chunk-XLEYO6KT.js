import{a as oe}from"./chunk-4EOMFFPW.js";import{a as ae}from"./chunk-WZDF3MJC.js";import{a as ie}from"./chunk-543GWJHF.js";import"./chunk-TO6ILXDP.js";import{a as ne}from"./chunk-HMMNJ6YU.js";import{Fa as Y,Ha as Z,Na as ee,Oa as te,R as W,S as L,T as S,U as P,ba as $,ca as j,ja as O,qa as V,ta as G,ua as J,ya as K,za as X}from"./chunk-JANEJKLD.js";import{j as U}from"./chunk-7ROZRI2L.js";import{$c as k,Bb as h,Da as g,Ea as y,Ec as Q,Fc as z,Gc as w,Ia as v,Tb as s,Zb as _,ac as q,bc as A,cc as o,dc as a,ec as x,fb as B,hb as u,ia as b,ic as f,kc as p,lc as r,qb as R,sa as m,ta as d,uc as H,vb as C,vc as N,xc as T,zb as I}from"./chunk-VHTPDAAZ.js";import"./chunk-JKOY2XUY.js";function ce(t,c){if(t&1&&x(0,"po-table",0),t&2){let e=r();s("p-items",e.items())("p-loading",e.isLoading())("p-height",e.height)("p-columns",e.columns)("p-draggable",!0)("p-sort",!0)("p-actions",e.actions)}}var re=(()=>{class t extends oe{constructor(){let e=[".po-page-header",".po-table-actions",".app-search",".footer"];super(400,e),this.items=y.required(),this.isLoading=y(!1),this.viewDetail=g(),this.actions=[{label:"Remover",icon:"an an-trash",disabled:!0},{label:"Detalhes",action:this.onViewDetail.bind(this),icon:"an an-arrow-square-in"}],this.columns=[{property:"_id",label:"C\xF3digo",type:"number",width:"8%",sortable:!0},{property:"name",label:"Nome",type:"string",sortable:!0},{property:"name",label:"Fandon",link:"sourceUrl",type:"link",width:"20%",sortable:!0}]}ngAfterViewInit(){this.onResize()}onViewDetail(e){this.viewDetail.emit(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-disney-characters-table"]],hostBindings:function(i,n){i&1&&p("resize",function(){return n.onResize()},!1,B)},inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},outputs:{viewDetail:"viewDetail"},features:[I],decls:1,vars:1,consts:[["p-container","shadow",3,"p-items","p-loading","p-height","p-columns","p-draggable","p-sort","p-actions"]],template:function(i,n){i&1&&h(0,ce,1,7,"po-table",0),i&2&&_(n.items()?0:-1)},dependencies:[G,O],encapsulation:2})}}return t})();function me(t,c){if(t&1){let e=f();o(0,"po-widget",1),p("p-click",function(){m(e);let n=r();return d(n.onViewDetail())})("p-title-action",function(){m(e);let n=r();return d(n.onTitleAction())}),x(1,"po-image",2),a()}if(t&2){let e=r();s("p-title",e.item().name),u(),s("p-src",e.item().imageUrl||"")}}var se=(()=>{class t{constructor(){this.item=y.required(),this.viewDetail=g()}onViewDetail(){this.viewDetail.emit(this.item())}onTitleAction(){window.open(this.item().sourceUrl,"_blank")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-disney-character-card"]],inputs:{item:[1,"item"]},outputs:{viewDetail:"viewDetail"},decls:1,vars:1,consts:[[1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2",3,"p-title"],[1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2",3,"p-click","p-title-action","p-title"],["p-loading","lazy","p-alt","Imagem do personagem da Disney",3,"p-src"]],template:function(i,n){i&1&&h(0,me,2,2,"po-widget",0),i&2&&_(n.item()?0:-1)},dependencies:[te,ee,X,K],encapsulation:2})}}return t})();var de=(t,c)=>c._id;function ue(t,c){if(t&1){let e=f();o(0,"app-disney-character-card",2),p("viewDetail",function(n){m(e);let l=r(2);return d(l.onViewDetail(n))}),a()}if(t&2){let e=c.$implicit;s("item",e)}}function _e(t,c){t&1&&(o(0,"p",1),T(1,"Nenhum dado encontrado"),a())}function Ce(t,c){if(t&1&&q(0,ue,1,1,"app-disney-character-card",0,de,!1,_e,2,0,"p",1),t&2){let e=r();A(e.items())}}var pe=(()=>{class t{constructor(){this.items=y.required(),this.isLoading=y(!1),this.viewDetail=g()}onViewDetail(e){this.viewDetail.emit(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-disney-characters-list"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},outputs:{viewDetail:"viewDetail"},decls:1,vars:1,consts:[[3,"item"],[1,"po-font-text-bold"],[3,"viewDetail","item"]],template:function(i,n){i&1&&h(0,Ce,3,1),i&2&&_(n.items()?0:-1)},dependencies:[se,L],encapsulation:2})}}return t})();var le=(()=>{class t{constructor(){this.changeTypeView=g(),this.deviceService=b(ne),this.isTableView=v(!this.deviceService.isSmartPhone()),this.icon=k(()=>this.isTableView()?"an an-list":"an an-cards"),this.label=k(()=>this.isTableView()?"Tabela":"Lista")}onChangeTypeView(){this.isTableView.update(e=>!e),this.changeTypeView.emit(this.isTableView())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-type-list-button"]],outputs:{changeTypeView:"changeTypeView"},decls:1,vars:2,consts:[["p-size","medium","p-kind","tertiary",3,"p-click","p-label","p-icon"]],template:function(i,n){i&1&&(o(0,"po-button",0),p("p-click",function(){return n.onChangeTypeView()}),a()),i&2&&s("p-label",n.label())("p-icon",n.icon())},dependencies:[P,S],encapsulation:2})}}return t})();function he(t,c){if(t&1){let e=f();o(0,"app-disney-characters-table",10),p("viewDetail",function(n){m(e);let l=r(3);return d(l.onViewDetail(n))}),a()}if(t&2){r(3);let e=w(1),i=w(3);s("items",e.data)("isLoading",i)}}function fe(t,c){if(t&1){let e=f();o(0,"app-disney-characters-list",10),p("viewDetail",function(n){m(e);let l=r(3);return d(l.onViewDetail(n))}),a()}if(t&2){r(3);let e=w(1),i=w(3);s("items",e.data)("isLoading",i)}}function ge(t,c){if(t&1){let e=f();o(0,"div",1)(1,"po-container",4),h(2,he,1,2,"app-disney-characters-table",6)(3,fe,1,2,"app-disney-characters-list",6),a(),o(4,"div",7)(5,"po-button",8),p("p-click",function(){m(e);let n=r(2);return d(n.onShowMore())}),a(),o(6,"po-select",9),p("p-change",function(n){m(e);let l=r(2);return d(l.onChangeSize(n))}),a()()()}if(t&2){let e=r(2),i=w(1),n=w(3);u(2),_(e.isTableView()?2:3),u(3),s("p-disabled",(i==null||i.info==null?null:i.info.nextPage)===null)("p-loading",n),u(),s("p-options",e.optionsSize)}}function ye(t,c){if(t&1&&h(0,ge,7,4,"div",1),t&2){r();let e=w(1);_(e?0:-1)}}function we(t,c){t&1&&(o(0,"po-container",4)(1,"p",11),T(2,"Nenhum personagem foi encontrado"),a()())}function ve(t,c){t&1&&(o(0,"po-container",4)(1,"p",11),T(2,"Ops, ocorreu erro ao tentar listar os Personagens :("),a()())}var Ke=(()=>{class t{constructor(){this.isTableView=v(!0),this.disneyService=b(ae),this.disneyResource=this.disneyService.getCharacters,this.filter=v(""),this.optionsSize=[{label:"12",value:12},{label:"50",value:50},{label:"100",value:100}],this.page=v(1),this.poSelect=R.required(V),this.size=v(12),this.router=b(U)}ngAfterContentInit(){this.poSelect().modelValue=this.size()}onChangeSize(e){this.size.set(e),this.disneyService.updatePagination(1,this.size())}onShowMore(){this.page.update(e=>e+1),this.disneyService.updatePagination(1,this.size()*this.page())}onChangeFilter(e){this.disneyService.setFilter(e)}onChangeTypeView(e){this.isTableView.set(e)}onViewDetail(e){this.router.navigate([`/resources-api/disney/detail/${e._id}`])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-characters-list"]],viewQuery:function(i,n){i&1&&H(n.poSelect,V,5),i&2&&N()},decls:12,vars:5,consts:[["p-title","Personagens | Disney","p-subtitle","RxResource - Pagina\xE7\xE3o"],[1,"po-row"],[1,"po-xl-1","po-lg-2","po-md-6","po-sm-12","po-mt-1",3,"changeTypeView"],[1,"po-offset-lg-6","po-offset-xl-8","po-xl-3","po-lg-4","po-offset-lg-6","po-md-6","po-sm-12","po-mb-1",3,"changeInValue"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-1"],["p-text","Carregando personagens",3,"hidden"],[3,"items","isLoading"],[1,"footer","po-xl-12","po-lg-12","po-md-12","po-sm-12"],["p-label","Carregar mais resultados","p-kind","primary",1,"po-offset-lg-4","po-offset-xl-4","po-xl-4","po-lg-4","po-md-6","po-sm-12","po-mt-4",3,"p-click","p-disabled","p-loading"],["p-label","Itens por p\xE1gina","name","size",1,"po-offset-lg-2","po-offset-xl-2","po-sm-12","po-md-6","po-lg-2","po-xl-2",3,"p-change","p-options"],[3,"viewDetail","items","isLoading"],[1,"po-font-text-bold"]],template:function(i,n){if(i&1){let l=f();o(0,"po-page-default",0),Q(1)(2)(3)(4),o(5,"div",1)(6,"app-type-list-button",2),p("changeTypeView",function(D){return m(l),d(n.onChangeTypeView(D))}),a(),o(7,"app-search",3),p("changeInValue",function(D){return m(l),d(n.onChangeFilter(D))}),a()(),h(8,ye,1,1)(9,we,3,0,"po-container",4)(10,ve,3,0,"po-container",4),x(11,"po-loading-overlay",5),a()}if(i&2){u(),z(n.disneyResource.value());let l=n.disneyResource.hasValue();u(2);let E=z(n.disneyResource.isLoading()),D=n.disneyResource.error();u(5),_(l?8:9),u(2),_(D?10:-1),u(),s("hidden",!E)}},dependencies:[Z,Y,J,V,P,S,L,W,ie,j,$,le,pe,re],encapsulation:2})}}return t})();export{Ke as CharactersListComponent};
