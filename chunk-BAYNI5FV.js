import{a as ne,b as ae}from"./chunk-APB777JP.js";import{a as oe}from"./chunk-QTXX665V.js";import{a as te}from"./chunk-A674P7YC.js";import{a as ie}from"./chunk-EKZSVY6F.js";import"./chunk-UY4QYXD6.js";import{$ as W,Ba as Z,D as A,F as K,Ga as $,Ha as J,M as O,N as j,Na as Q,P as q,Qa as X,Ua as Y,Va as ee,_ as U,qa as H}from"./chunk-HCPK7XEO.js";import{t as G}from"./chunk-MDUUVM26.js";import{$b as r,Cc as m,Dc as M,Fc as z,Jc as F,Jd as k,Kc as T,Lc as w,Ub as d,Vb as c,Yb as E,Zb as P,_b as p,ac as a,bc as g,da as S,db as s,ed as R,ia as B,ic as N,kd as b,nc as y,oa as x,oc as u,pa as D,vb as C,xa as f,zb as I}from"./chunk-QL522RBE.js";import"./chunk-RTRJ3KFH.js";var re=(()=>{let t=class t{constructor(){this.apiUrl="https://dragonball-api.com/api/characters",this.limit=f(10),this.name=f(""),this.page=f(1),this.getCharacters=k(()=>({url:this.apiUrl,method:"GET",params:{page:this.page(),limit:this.limit(),name:this.name()}}))}setLimit(o){this.limit.set(o)}setName(o){this.page.set(1),this.name.set(o)}setPage(o){this.page.set(o)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ce(e,t){if(e&1&&(r(0,"po-widget",0)(1,"div",1)(2,"div",2),g(3,"po-image",3),a(),r(4,"div",4)(5,"p",5),m(6),a(),r(7,"div")(8,"p",6),m(9),a(),g(10,"po-tag",7),a(),r(11,"div",8)(12,"p",9),m(13,"KI:"),a(),r(14,"p",10),m(15),a()(),r(16,"div",8)(17,"p",9),m(18,"M\xE1ximo KI:"),a(),r(19,"p",10),m(20),a()()()()()),e&2){let i=u();p("p-height",i.height());let o=i.item().image||"assets/img/not-found-image.jpg";s(3),p("p-src",o)("p-height",200),s(3),M(i.item().name),s(3),z("",i.item().race," - ",i.item().affiliation),s(),p("p-color",i.getGenderColor(i.item().gender))("p-value",i.getGenderValue(i.item().gender)),s(5),M(i.item().ki),s(5),M(i.item().maxKi)}}var ge={Female:"color-06",Male:"color-02",Genderless:"color-08",unknown:"color-07"},ue={Female:"Feminino",Male:"Masculino",Genderless:"Sem g\xEAnero",unknown:"Desconhecido"},se=(()=>{let t=class t{constructor(){this.item=b.required(),this.height=f(250)}getGenderColor(o){return ge[o]}getGenderValue(o){return ue[o]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=C({type:t,selectors:[["app-dragon-ball-card"]],inputs:{item:[1,"item"]},decls:1,vars:1,consts:[["appZoomOnHover","",1,"po-xl-4","po-lg-6","po-md-12","po-sm-12","po-mb-2",3,"p-height"],[1,"po-row"],[1,"po-md-5","po-lg-5"],["p-loading","lazy","p-alt","Imagem do personagem do Dragon Ball",3,"p-src","p-height"],[1,"po-md-7","po-lg-7"],[1,"po-font-subtitle","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"po-font-text-large","po-xl-7","po-lg-7","po-md-7","po-sm-7"],[3,"p-color","p-value"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"po-font-text-bold","po-mt-2"],[1,"po-font-text"]],template:function(n,l){n&1&&d(0,ce,21,10,"po-widget",0),n&2&&c(l.item()?0:-1)},dependencies:[G,O,J,$,K,A,ee,Y,ie],encapsulation:2});let e=t;return e})();var he=(e,t)=>t.id;function fe(e,t){if(e&1&&g(0,"app-dragon-ball-card",0),e&2){let i=t.$implicit;p("item",i)}}function Ce(e,t){e&1&&(r(0,"p",1),m(1,"Nenhum dado encontrado"),a())}function be(e,t){if(e&1&&E(0,fe,1,1,"app-dragon-ball-card",0,he,!1,Ce,2,0,"p",1),e&2){let i=u();P(i.items())}}var pe=(()=>{let t=class t{constructor(){this.items=b.required(),this.isLoading=b(!1)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=C({type:t,selectors:[["app-dragon-ball-cards"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},decls:1,vars:1,consts:[[3,"item"],[1,"po-font-text-bold"]],template:function(n,l){n&1&&d(0,be,3,1),n&2&&c(l.items()?0:-1)},dependencies:[se],encapsulation:2});let e=t;return e})();function _e(e,t){if(e&1&&g(0,"po-table",0),e&2){let i=u();p("p-items",i.items())("p-loading",i.isLoading())("p-height",i.height)("p-columns",i.columns)("p-draggable",!0)("p-sort",!0)("p-hide-columns-manager",!0)}}var me=(()=>{let t=class t extends ne{constructor(){let o=[".po-page-header",".po-table-actions",".app-search",".footer"];super(400,o),this.items=b.required(),this.isLoading=b(!1),this.columns=this.getColumns()}ngAfterViewInit(){this.onResize()}getColumns(){return[{property:"id",label:"Id",sortable:!0,type:"number"},{property:"name",label:"Nome",sortable:!0,type:"string"},{property:"race",label:"Ra\xE7a",sortable:!0,type:"string",visible:this.IsColumnVisible()},{property:"gender",label:"G\xEAnero",sortable:!0,type:"label",visible:this.IsColumnVisible(),labels:[{value:"Female",color:"color-06",label:"Feminino"},{value:"Male",color:"color-02",label:"Masculino"},{value:"Genderless",color:"color-08",label:"Sem g\xEAnero"},{value:"unknown",color:"color-07",label:"Desconhecido"}]},{property:"ki",label:"KI",sortable:!0,type:"string",visible:this.IsColumnVisible()},{property:"maxKi",label:"KI M\xE1ximo",sortable:!0,type:"string",visible:this.IsColumnVisible()},{property:"affiliation",label:"Afilia\xE7\xE3o",sortable:!0,type:"string",visible:this.IsColumnVisible()}]}IsColumnVisible(){return window.innerWidth>480}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=C({type:t,selectors:[["app-dragon-ball-table"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},features:[I],decls:1,vars:1,consts:[["p-container","shadow",3,"p-items","p-loading","p-height","p-columns","p-draggable","p-sort","p-hide-columns-manager"]],template:function(n,l){n&1&&d(0,_e,1,7,"po-table",0),n&2&&c(l.items()?0:-1)},dependencies:[Z,H],encapsulation:2});let e=t;return e})();function ve(e,t){if(e&1&&g(0,"app-dragon-ball-table",8),e&2){let i=u(3),o=w(2);p("items",i.allDbzCharacters())("isLoading",o)}}function xe(e,t){if(e&1&&g(0,"app-dragon-ball-cards",8),e&2){let i=u(3),o=w(2);p("items",i.allDbzCharacters())("isLoading",o)}}function De(e,t){if(e&1&&(r(0,"div",1)(1,"po-container",4),d(2,ve,1,2,"app-dragon-ball-table",8)(3,xe,1,2,"app-dragon-ball-cards",8),a()()),e&2){let i=u(2);s(2),c(i.isTableView()?2:3)}}function ye(e,t){if(e&1&&d(0,De,4,1,"div",1),e&2){u();let i=w(1);c(i?0:-1)}}function Me(e,t){e&1&&(r(0,"po-container",4)(1,"p",9),m(2,"Nenhum personagem foi encontrado"),a()())}function we(e,t){e&1&&(r(0,"po-container",4)(1,"p",9),m(2,"Ops, ocorreu erro ao tentar listar os Personagens :("),a()())}var et=(()=>{let t=class t{constructor(){this.page=f(1),this.dragonBallService=B(re),this.isTableView=f(!0),this.dbzCharactersResource=this.dragonBallService.getCharacters,this.allDbzCharacters=f([]),R(()=>{let n=this.dbzCharactersResource.value();Array.isArray(n)?this.allDbzCharacters.set(n):n&&this.allDbzCharacters.update(l=>[...l,...n.items])})}onShowMore(){this.page.update(o=>o+1),this.dragonBallService.setPage(this.page())}onChangeFilter(o){this.page.set(1),this.allDbzCharacters.set([]),this.dragonBallService.setName(o)}onChangeTypeView(o){this.isTableView.set(o)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=C({type:t,selectors:[["app-dragon-ball-list"]],decls:12,vars:7,consts:[["p-title","Dragon Ball | Lista de Personagens","p-subtitle","Exemplo de uso da API httpResource "],[1,"po-row"],[1,"po-xl-1","po-lg-2","po-md-6","po-sm-12","po-mt-1",3,"changeTypeView"],[1,"po-offset-lg-6","po-offset-xl-8","po-xl-3","po-lg-4","po-offset-lg-6","po-md-6","po-sm-12","po-mb-1",3,"changeInValue"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-1"],[1,"footer","po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-4"],[3,"clickShowMore","isLoading","isDisabled"],["p-text","Carregando personagens",3,"hidden"],[3,"items","isLoading"],[1,"po-font-text-bold"]],template:function(n,l){if(n&1){let h=N();r(0,"po-page-default",0),F(1)(2),r(3,"div",1)(4,"app-type-list-button",2),y("changeTypeView",function(_){return x(h),D(l.onChangeTypeView(_))}),a(),r(5,"app-search",3),y("changeInValue",function(_){return x(h),D(l.onChangeFilter(_))}),a()(),d(6,ye,1,1)(7,Me,3,0,"po-container",4),r(8,"po-container",5)(9,"app-show-more-button",6),y("clickShowMore",function(){return x(h),D(l.onShowMore())}),a()(),d(10,we,3,0,"po-container",4),g(11,"po-loading-overlay",7),a()}if(n&2){s();let h=T(l.dbzCharactersResource.value()),v=l.dbzCharactersResource.error(),_=l.dbzCharactersResource.hasValue();s();let V=T(l.dbzCharactersResource.isLoading());s(4),c(_&&l.allDbzCharacters().length>0?6:7);let de=_&&(h==null||h.meta==null?null:h.meta.currentPage)<(h==null||h.meta==null?null:h.meta.totalPages);s(3),p("isLoading",V)("isDisabled",!de),s(),c(v?10:-1),s(),p("hidden",!V)}},dependencies:[W,U,X,Q,q,j,te,ae,oe,pe,me],encapsulation:2});let e=t;return e})();export{et as DragonBallListComponent};
