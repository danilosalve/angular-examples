import{a as V}from"./chunk-LOSKFKWO.js";import{C as k,D as N,Da as T,Ea as R,P as B,aa as w,ba as M,da as q,h as m,j as b,ja as E,k as S,l as F,la as _,n as u,p as I,q as j,r as x,ra as G,x as D}from"./chunk-CFTYIETL.js";import"./chunk-YQH3U43A.js";import{Ab as g,Kd as C,Ub as c,da as i,dc as l,ec as P,fc as h,ib as p,ja as s,lc as f,wa as n,wb as v,ya as y}from"./chunk-EQ2ZZIGX.js";import"./chunk-4CLCTAJ7.js";var a=(()=>{class e{constructor(){this.poNotification=s(B)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var $=(()=>{class e extends a{pay(){this.poNotification.success("Pagamento efetuado com sucesso | Pagseguro")}static{this.\u0275fac=(()=>{let o;return function(t){return(o||(o=n(e)))(t||e)}})()}static{this.\u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var z=(()=>{class e extends a{pay(){this.poNotification.success("Pagamento efetuado com sucesso | PayPal")}static{this.\u0275fac=(()=>{let o;return function(t){return(o||(o=n(e)))(t||e)}})()}static{this.\u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var A=(()=>{class e extends a{pay(){this.poNotification.success("Pagamento efetuado com sucesso | Pix")}static{this.\u0275fac=(()=>{let o;return function(t){return(o||(o=n(e)))(t||e)}})()}static{this.\u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var le=(()=>{class e extends V{constructor(){super("dynamic/components"),this.injector=s(y),this.form=new F({amount:new u(0,{nonNullable:!0,validators:[m.required,m.min(0)]}),address:new u("",[m.required]),type:new u("pix",{nonNullable:!0,validators:[m.required]})}),this.optionsPayment=[{label:"Pag Seguro",value:"pag-seguro"},{label:"PayPal",value:"paypal"},{label:"Pix",value:"pix"}]}onSubmit(){let o=this.form.controls.type.value;this.updatePaymentService(o).pay()}updatePaymentService(o){switch(o){case"pag-seguro":return this.injector.get($);case"paypal":return this.injector.get(z);case"pix":return this.injector.get(A);default:throw new Error(`Tipo de pagamento desconhecido ${o}`)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=v({type:e,selectors:[["app-dynamic-services"]],features:[g],decls:7,vars:8,consts:[["p-title","Servi\xE7os Din\xE2micos","p-subtitle","Instanciando servi\xE7os dinamicamente",3,"p-back"],[1,"po-sm-12","po-md-12","po-lg-4","po-xl-4"],[3,"formGroup"],["p-label","Total","p-icon","an an-currency-dollar","p-required","","p-clean","",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"formControl","p-min"],["p-label","Endere\xE7o","p-icon","an an-map-pin","p-required","","p-clean","",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"formControl"],["p-label","Forma de Pagamento",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"formControl","p-options","p-columns","p-required"],["p-label","Pagar","p-kind","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-click"]],template:function(r,t){r&1&&(l(0,"po-page-detail",0),f("p-back",function(){return t.onBack()}),l(1,"po-container",1)(2,"form",2),h(3,"po-decimal",3)(4,"po-input",4)(5,"po-radio-group",5),l(6,"po-button",6),f("p-click",function(){return t.onSubmit()}),P()()()()),r&2&&(p(2),c("formGroup",t.form),p(),c("formControl",t.form.controls.amount)("p-min",0),p(),c("formControl",t.form.controls.address),p(),c("formControl",t.form.controls.type)("p-options",t.optionsPayment)("p-columns",3)("p-required",!0))},dependencies:[C,R,T,M,w,G,q,E,_,N,k,D,I,b,S,j,x],encapsulation:2})}}return e})();export{le as DynamicServicesComponent};
