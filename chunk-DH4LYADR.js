import{a as re}from"./chunk-SOKWRCJM.js";import{a as oe}from"./chunk-3BRMG2G2.js";import{$ as J,C as R,Ca as X,Da as Y,E as z,La as Z,N as G,Na as ee,P as W,Ra as te,Sa as ie,_ as Q,oa as K,ya as V}from"./chunk-3H4NJUFE.js";import{D as O,l as H,s as j,t as g}from"./chunk-SBPM3P26.js";import{$b as y,Ab as T,Cb as C,Cc as f,Ea as L,Ec as B,G as P,Jc as $,M as U,P as F,Pc as _,Sc as u,Tc as v,Ub as a,Uc as b,V as x,Vc as N,ca as D,cc as M,dc as w,ec as m,fc as c,gc as d,ia as l,jb as n,p as S,pc as A,qc as I,ud as k,xb as h,yd as q}from"./chunk-ROBB4PN5.js";import"./chunk-JKOY2XUY.js";var ne=(()=>{class e{transform(t,i){let o=i.type,s=i.query.trim().toLowerCase();return s?o==="displayName"?t.filter(p=>p.displayname.toLowerCase().includes(s)):o==="id"?t.filter(p=>p.id.toLowerCase().includes(s)):t.filter(p=>p.displayname.toLowerCase().includes(s)||p.id.toLowerCase().includes(s)):t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=T({name:"filterByDescription",type:e,pure:!0})}}return e})();var se="http://localhost:8282/rest";var pe=(()=>{class e{constructor(){this.http=l(q)}getUsers(t=1,i=20){let o=new k({page:t,pageSize:i,Authorization:this.getToken("ADMIN","1234")});return this.http.get(`${se}/api/framework/getusers`,{headers:o}).pipe(x())}getToken(t,i){return`Basic ${btoa(`${t}:${i}`)}`}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var de=(e,r)=>r.id;function fe(e,r){if(e&1&&($(0),m(1,"po-widget",0),u(2,"slice"),d(3,"po-info",2)(4,"po-info",3),c()),e&2){let t=r.$implicit,i=r.$index,o=t.displayname;n(),a("p-title",o.length>30?N(2,4,o,0,30)+"...":o)("p-tooltip",o),n(2),a("p-value",t.id),n(),a("p-value",(i+1).toString())}}function he(e,r){e&1&&(m(0,"p",1),f(1,"N\xE3o h\xE1 items."),c())}var ae=(()=>{class e{constructor(){this.users=L.required()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=h({type:e,selectors:[["app-user"]],inputs:{users:[1,"users"]},decls:3,vars:1,consts:[["p-tooltip-position","top-left",1,"po-mt-2","po-sm-12","po-md-6","po-lg-4","po-xl-3",3,"p-title","p-tooltip"],[1,"po-font-text-bold","po-mt-2"],["p-label","Usu\xE1rio",3,"p-value"],["p-label","Qtd",3,"p-value"]],template:function(i,o){i&1&&M(0,fe,5,8,"po-widget",0,de,!1,he,2,0,"p",1),i&2&&w(o.users())},dependencies:[g,j,ie,te,Y,X,z,R],encapsulation:2,changeDetection:0})}}return e})();var ye=(e,r)=>({users:e,usersError:r}),ge=(e,r)=>({type:e,query:r});function Ce(e,r){if(e&1&&(d(0,"app-user",5),u(1,"filterByDescription")),e&2){let t=I(2);a("users",b(1,1,r.data,_(4,ge,t.filterType,t.filter)))}}function _e(e,r){e&1&&(m(0,"p"),f(1,"Ops, ocorreu erro ao tentar listar os Usu\xE1rios :("),c(),f(2)),e&2&&(n(2),B(" ",r.message," "))}function ve(e,r){if(e&1&&C(0,Ce,2,7,"app-user",5)(1,_e,3,1),e&2){let t,i,o=r;y((t=!o.usersError&&o.users)?0:-1,t),n(),y((i=o.usersError)?1:-1,i)}}var le=(()=>{class e{constructor(){this.filter="",this.filterType="All",this.isHideLoading=!1,this.usersService=l(pe),this.filterSelect=[{label:"Usu\xE1rio",value:"id"},{label:"Nome",value:"displayName"}]}ngOnInit(){this.users$=this.usersService.getUsers().pipe(F(()=>this.isHideLoading=!0)),this.usersError$=this.users$.pipe(U(),P(t=>S(t)))}changeFilter(t){this.filter=t.value,this.filterType=Array.isArray(t.filter)?"All":t.filter}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=h({type:e,selectors:[["app-list-users"]],decls:8,vars:10,consts:[["appIsDeveloperMode","","resourceName","'Usu\xE1rios'","p-title","Usu\xE1rios","p-subtitle","Exemplo de operador aSync com tratament de erro"],[1,"po-row"],[1,"po-mb-5","po-xl-12"],[3,"p-filter","p-filter-select"],["p-text","Carregando usu\xE1rios",3,"hidden"],[3,"users"]],template:function(i,o){if(i&1&&(m(0,"po-page-default",0)(1,"span",1)(2,"po-container",2)(3,"po-search",3),A("p-filter",function(p){return o.changeFilter(p)}),c(),C(4,ve,2,2),u(5,"async"),u(6,"async"),c()()(),d(7,"po-loading-overlay",4)),i&2){let s;n(3),a("p-filter-select",o.filterSelect),n(),y((s=_(7,ye,v(5,3,o.users$),v(6,5,o.usersError$)))?4:-1,s),n(3),a("hidden",o.isHideLoading)}},dependencies:[g,H,ee,Z,W,G,J,Q,ne,ae,V,K,re],encapsulation:2,changeDetection:0})}}return e})();function ce(e){return()=>{let r=l(oe),t=l(O);return r.hasFlags(e)||t.createUrlTree(["access-denied"])}}var Ye=[{path:"",component:le,canActivate:[ce(["users"])]}];export{Ye as USERS_ROUTES};
