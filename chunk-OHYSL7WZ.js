import{a as re,b as se}from"./chunk-APB777JP.js";import{a as ie}from"./chunk-QTXX665V.js";import{a as oe}from"./chunk-A674P7YC.js";import{a as ae}from"./chunk-EKZSVY6F.js";import{a as ne}from"./chunk-UY4QYXD6.js";import{$ as H,Ba as J,D as A,F as B,Ga as K,Ha as Q,L as $,M as q,N as U,Na as X,P as D,Qa as Y,Ua as ee,Va as te,_ as W,qa as Z}from"./chunk-HCPK7XEO.js";import{t as j}from"./chunk-MDUUVM26.js";import{$b as r,Cc as d,Dc as T,Fc as R,Jc as G,Kc as S,Lc as x,Qc as O,Ub as g,Vb as u,Yb as I,Zb as F,_b as c,ac as a,bc as m,da as E,db as s,gd as z,ia as y,ic as k,kd as b,nc as L,oa as M,oc as f,pa as w,vb as v,xa as h,zb as N}from"./chunk-QL522RBE.js";import{j as V}from"./chunk-RTRJ3KFH.js";var pe=(()=>{let t=class t{constructor(){this.apiUrl="https://rickandmortyapi.com/api/character",this.name=h(""),this.page=h(1),this._hasNextPage=h(!1),this.characters=[],this.hasNextPage=this._hasNextPage.asReadonly(),this.getCharacters=z({params:()=>({page:this.page(),name:this.name()}),loader:p=>V(this,[p],function*({params:o,abortSignal:n}){let{page:C,name:_}=o;try{let l=yield(yield fetch(`${this.apiUrl}/?page=${C}&name=${_}`,{signal:n})).json();return this.characters.length>0?this.characters=this.characters.concat(l.results):this.characters=l.results,this._hasNextPage.update(()=>l.info.pages!==C),l=this.characters,l}catch(l){this.handleError(l)}})})}updatePage(o){this.page.set(o)}setFilter(o){this.characters=[],this.page.set(1),this.name.set(o)}handleError(o){throw o}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function he(e,t){if(e&1&&m(0,"po-table",0),e&2){let i=f();c("p-items",i.items())("p-loading",i.isLoading())("p-height",i.height)("p-columns",i.columns)("p-draggable",!0)("p-sort",!0)("p-hide-columns-manager",!0)}}var ce=(()=>{let t=class t extends re{constructor(){let o=[".po-page-header",".po-table-actions",".app-search",".footer"];super(400,o),this.items=b.required(),this.isLoading=b(!1),this.columns=this.getColumns()}ngAfterViewInit(){this.onResize()}getColumns(){return[{property:"id",label:"Id",sortable:!0,type:"number"},{property:"name",label:"Nome",sortable:!0,type:"string"},{property:"status",label:"Status",sortable:!0,type:"label",visible:this.IsColumnVisible(),labels:[{value:"Alive",color:"color-10",label:"Vivo"},{value:"Dead",color:"color-02",label:"Morto"},{value:"unknown",color:"color-07",label:"Desconhecido"}]},{property:"species",label:"Esp\xE9cie",sortable:!0,type:"string",visible:this.IsColumnVisible()},{property:"gender",label:"G\xEAnero",sortable:!0,type:"label",visible:this.IsColumnVisible(),labels:[{value:"Female",color:"color-06",label:"Feminino"},{value:"Male",color:"color-02",label:"Masculino"},{value:"Genderless",color:"color-08",label:"Sem g\xEAnero"},{value:"unknown",color:"color-07",label:"Desconhecido"}]},{property:"location.name",label:"Localiza\xE7\xE3o",sortable:!0,type:"string",visible:this.IsColumnVisible()},{property:"type",label:"Tipo",sortable:!0,type:"string",visible:!1}]}IsColumnVisible(){return window.innerWidth>480}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=v({type:t,selectors:[["app-characters-table"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},features:[N],decls:1,vars:1,consts:[["p-container","shadow",3,"p-items","p-loading","p-height","p-columns","p-draggable","p-sort","p-hide-columns-manager"]],template:function(n,p){n&1&&g(0,he,1,7,"po-table",0),n&2&&u(p.items()?0:-1)},dependencies:[J,Z],encapsulation:2});let e=t;return e})();function ge(e,t){if(e&1&&(r(0,"po-widget",0)(1,"div",1)(2,"div",2),m(3,"po-image",3),a(),r(4,"div",4)(5,"p",5),d(6),a(),r(7,"div")(8,"div",6),m(9,"po-badge",7),a(),r(10,"p",8),d(11),a(),m(12,"po-tag",9),a(),r(13,"div",10)(14,"p",11),d(15,"\xDAltima localiza\xE7\xE3o registrada:"),a(),r(16,"p",12),d(17),a()(),r(18,"div",10)(19,"p",11),d(20,"Origem:"),a(),r(21,"p",12),d(22),a()()()()()),e&2){let i=f();c("p-height",i.height());let o=i.item().image||"assets/img/not-found-image.jpg";s(3),c("p-src",o)("p-height",200),s(3),T(i.item().name);let n=i.item().status==="Alive"?"positive":i.item().status==="Dead"?"negative":"disabled";s(3),c("p-status",n),s(2),R("",i.item().status," - ",i.item().species),s(),c("p-color",i.getGenderColor(i.item().gender))("p-value",i.getGenderValue(i.item().gender)),s(5),T(i.item().location.name),s(5),T(i.item().origin.name)}}var ue={Female:"color-06",Male:"color-02",Genderless:"color-08",unknown:"color-07"},fe={Female:"Feminino",Male:"Masculino",Genderless:"Sem g\xEAnero",unknown:"Desconhecido"},me=(()=>{let t=class t{constructor(){this.item=b.required(),this.height=h(250),this.device=y(ne)}ngOnInit(){this.device.isSmartPhone()&&this.height.set(0)}getGenderColor(o){return ue[o]}getGenderValue(o){return fe[o]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=v({type:t,selectors:[["app-character-card"]],inputs:{item:[1,"item"]},decls:1,vars:1,consts:[["appZoomOnHover","",1,"po-xl-4","po-lg-6","po-md-12","po-sm-12","po-mb-2",3,"p-height"],[1,"po-row"],[1,"po-md-5","po-lg-5"],["p-loading","lazy","p-alt","Imagem do personagem do Rick & Morty",3,"p-src","p-height"],[1,"po-md-7","po-lg-7"],[1,"po-font-subtitle","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[2,"display","flex","align-items","center","position","relative"],["p-size","small",2,"top","-10px",3,"p-status"],[1,"po-font-text-large","po-xl-7","po-lg-7","po-md-7","po-sm-7"],[3,"p-color","p-value"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"po-font-text-bold","po-mt-2"],[1,"po-font-text"]],template:function(n,p){n&1&&g(0,ge,23,11,"po-widget",0),n&2&&u(p.item()?0:-1)},dependencies:[j,q,$,Q,K,B,A,te,ee,ae],encapsulation:2});let e=t;return e})();var Ce=(e,t)=>t.id;function ve(e,t){if(e&1&&m(0,"app-character-card",0),e&2){let i=t.$implicit;c("item",i)}}function be(e,t){e&1&&(r(0,"p",1),d(1,"Nenhum dado encontrado"),a())}function _e(e,t){if(e&1&&I(0,ve,1,1,"app-character-card",0,Ce,!1,be,2,0,"p",1),e&2){let i=f();F(i.items())}}var de=(()=>{let t=class t{constructor(){this.items=b.required(),this.isLoading=b(!1)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=v({type:t,selectors:[["app-characters-card"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},decls:1,vars:1,consts:[[3,"item"],[1,"po-font-text-bold"]],template:function(n,p){n&1&&g(0,_e,3,1),n&2&&u(p.items()?0:-1)},dependencies:[me,D],encapsulation:2});let e=t;return e})();var xe=()=>[];function ye(e,t){if(e&1&&m(0,"app-characters-table",8),e&2){f(3);let i=x(1),o=x(2);c("items",i)("isLoading",o)}}function Me(e,t){if(e&1&&m(0,"app-characters-card",8),e&2){f(3);let i=x(1),o=x(2);c("items",i)("isLoading",o)}}function we(e,t){if(e&1&&(r(0,"div",1)(1,"po-container",4),g(2,ye,1,2,"app-characters-table",8)(3,Me,1,2,"app-characters-card",8),a()()),e&2){let i=f(2);s(2),u(i.isTableView()?2:3)}}function Le(e,t){if(e&1&&g(0,we,4,1,"div",1),e&2){f();let i=x(1);u(i?0:-1)}}function Te(e,t){e&1&&(r(0,"po-container",4)(1,"p",9),d(2,"Nenhum personagem foi encontrado"),a()())}function De(e,t){e&1&&(r(0,"po-container",4)(1,"p",9),d(2,"Ops, ocorreu erro ao tentar listar os Personagens :("),a()())}var nt=(()=>{let t=class t{constructor(){this.isTableView=h(!0),this.filter=h(""),this.page=h(1),this.size=h(12),this.characterService=y(pe),this.charactersResource=this.characterService.getCharacters,this.hasNextPage=this.characterService.hasNextPage}onShowMore(){this.page.update(o=>o+1),this.characterService.updatePage(this.page())}onChangeFilter(o){this.characterService.setFilter(o)}onChangeTypeView(o){this.isTableView.set(o)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=v({type:t,selectors:[["app-characters-list"]],decls:12,vars:8,consts:[["p-title","Rick & Morty | Lista de Personagens","p-subtitle","Exemplo de uso da API resource "],[1,"po-row"],[1,"po-xl-1","po-lg-2","po-md-6","po-sm-12","po-mt-1",3,"changeTypeView"],[1,"po-offset-lg-6","po-offset-xl-8","po-xl-3","po-lg-4","po-offset-lg-6","po-md-6","po-sm-12","po-mb-1",3,"changeInValue"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-1"],[1,"footer","po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-4"],[3,"clickShowMore","isLoading","isDisabled"],["p-text","Carregando personagens",3,"hidden"],[3,"items","isLoading"],[1,"po-font-text-bold"]],template:function(n,p){if(n&1){let C=k();r(0,"po-page-default",0),G(1)(2),r(3,"div",1)(4,"app-type-list-button",2),L("changeTypeView",function(l){return M(C),w(p.onChangeTypeView(l))}),a(),r(5,"app-search",3),L("changeInValue",function(l){return M(C),w(p.onChangeFilter(l))}),a()(),g(6,Le,1,1)(7,Te,3,0,"po-container",4),r(8,"po-container",5)(9,"app-show-more-button",6),L("clickShowMore",function(){return M(C),w(p.onShowMore())}),a()(),g(10,De,3,0,"po-container",4),m(11,"po-loading-overlay",7),a()}if(n&2){s(),S(p.charactersResource.value()||O(7,xe));let C=p.charactersResource.error(),_=p.charactersResource.hasValue();s();let l=S(p.charactersResource.isLoading());s(4),u(_?6:7),s(3),c("isLoading",l)("isDisabled",!p.hasNextPage()),s(),u(C?10:-1),s(),c("hidden",!l)}},dependencies:[H,W,Y,X,D,U,oe,se,de,ce,ie],encapsulation:2});let e=t;return e})();export{nt as CharactersListComponent};
