import{a as _e}from"./chunk-MMM42JO3.js";import{a as ke}from"./chunk-C4PRGWBH.js";import{$ as he,Aa as xe,Ra as Ce,Sa as T,_ as ge,i as D,k as ce,m as de,o as pe,r as me,ta as fe,y as ue}from"./chunk-V5TXKAIM.js";import"./chunk-ILNAH6AD.js";import{$b as s,Ac as te,Bc as ne,Cc as p,Dc as k,Jc as E,Kc as _,Lc as f,Qc as oe,Sb as A,Ub as x,Vb as C,Vc as ie,Wb as B,Wc as re,Xb as G,Yb as P,Zb as O,_b as u,ac as l,bc as S,cc as H,da as W,db as a,dc as K,dd as y,ea as z,ec as X,ga as j,gd as ae,ia as b,ic as Z,kd as c,nc as J,nd as se,oa as V,oc as h,p as N,pa as q,pc as Q,qc as Y,ra as R,ud as le,vb as g,wb as U,xa as M,yb as $,zc as ee}from"./chunk-5QGOOW3X.js";import{a as v,g as m,h as L,i as I,j as F}from"./chunk-RTRJ3KFH.js";var Se=["*"];function Ee(t,e){t&1&&Y(0)}function Te(t,e){if(t&1&&(H(0,"div",1),x(1,Ee,1,0),K()),t&2){let r=h(),o=f(0),n=f(1);te(r.styles()),ee("custom-content",o==="custom-content")("circle",o==="circle")("square",o==="square")("progress",n==="progress")("progress-dark",n==="progress-dark")("pulse",n==="pulse")("pulse-dark",n==="pulse-dark"),A("aria-label",r.ariaLabel())("aria-valuetext",r.loadingText()),a(),C(o==="custom-content"?1:-1)}}var ve=new j("ngx-skeleton-loader.config"),be=(()=>{var e;let r=class r{constructor(){L(this,e);I(this,e,b(ve,{optional:!0})),this.count=c(m(this,e)?.count||1,{transform:le}),this.loadingText=c(m(this,e)?.loadingText||"Loading..."),this.appearance=c(m(this,e)?.appearance||"line"),this.animation=c(m(this,e)?.animation||"progress"),this.ariaLabel=c(m(this,e)?.ariaLabel||"loading"),this.theme=c(m(this,e)?.theme||null),this.size=c(m(this,e)?.size||null),this.measureUnit=c(m(this,e)?.measureUnit||"px"),this.items=y(()=>{let n=this.count()||1;return this.appearance()==="custom-content"&&se()&&n!==1&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),n=1),[...Array(n)].map((i,d)=>d)}),this.squareSize=y(()=>{let n=this.size();if(this.appearance()!=="square"||typeof n!="number"&&typeof n!="string")return null;let i=Number(n.toString().trim().replace(/\D/g,""));return Number.isInteger(i)?`${i}${this.measureUnit()}`:null}),this.styles=y(()=>{let n=this.theme(),i=this.squareSize();return m(this,e)?.theme?.extendsFromRoot?v(v(v({},m(this,e)?.theme),n),i&&{width:i,height:i}):v(v({},n),i&&{width:i,height:i})})}};e=new WeakMap,r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=g({type:r,selectors:[["ngx-skeleton-loader"]],inputs:{count:[1,"count"],loadingText:[1,"loadingText"],appearance:[1,"appearance"],animation:[1,"animation"],ariaLabel:[1,"ariaLabel"],theme:[1,"theme"],size:[1,"size"],measureUnit:[1,"measureUnit"]},ngContentSelectors:Se,decls:4,vars:2,consts:[["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader",3,"custom-content","circle","square","progress","progress-dark","pulse","pulse-dark","style"],["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader"]],template:function(i,d){i&1&&(Q(),E(0)(1),P(2,Te,2,19,"div",0,G)),i&2&&(_(d.appearance()),a(),_(d.animation()),a(),O(d.items()))},styles:['.skeleton-loader[_ngcontent-%COMP%]{--ngx-skeleton-loader-base-color: rgb(239, 241, 246);--ngx-skeleton-loader-light-mode-color: rgba(255, 255, 255, .6);--ngx-skeleton-loader-light-mode-color-to: rgba(255, 255, 255, 0);--ngx-skeleton-loader-dark-mode-color: rgba(0, 0, 0, .2);--ngx-skeleton-loader-dark-mode-color-to: transparent;--ngx-skeleton-loader-animation-duration: 2s;--ngx-skeleton-loader-background-image-light-mode: linear-gradient( 90deg, var(--ngx-skeleton-loader-light-mode-color-to), var(--ngx-skeleton-loader-light-mode-color), var(--ngx-skeleton-loader-light-mode-color-to) );--ngx-skeleton-loader-background-image-dark-mode: linear-gradient( 90deg, var(--ngx-skeleton-loader-dark-mode-color-to), var(--ngx-skeleton-loader-dark-mode-color), var(--ngx-skeleton-loader-dark-mode-color-to) );box-sizing:border-box;overflow:hidden;position:relative;background:var(--ngx-skeleton-loader-base-color) no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.square[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress var(--ngx-skeleton-loader-animation-duration) ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:var(--ngx-skeleton-loader-background-image-light-mode)}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:var(--ngx-skeleton-loader-background-image-dark-mode)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse var(--ngx-skeleton-loader-animation-duration) cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.pulse-dark[_ngcontent-%COMP%]{background:var(--ngx-skeleton-loader-dark-mode-color);animation:_ngcontent-%COMP%_pulse var(--ngx-skeleton-loader-animation-duration) cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.pulse-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]:before{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.pulse-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@media screen and (min-device-width: 1200px){.skeleton-loader[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:wait}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0});let t=r;return t})(),ye=(()=>{let e=class e{static forRoot(o){return{ngModule:e,providers:[{provide:ve,useValue:o}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=U({type:e}),e.\u0275inj=z({});let t=e;return t})();var we=(()=>{let e=class e{constructor(){this.apiUrl="https://goweather.herokuapp.com/weather",this.city=M("S\xE3o Paulo"),this.getWeather=ae({params:()=>({city:this.city()}),loader:i=>F(this,[i],function*({params:o,abortSignal:n}){try{return yield(yield fetch(`${this.apiUrl}/${o.city}`,{signal:n})).json()}catch(d){this.handleError(d)}})})}updateCity(o){this.city.set(o)}handleError(o){throw o}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Me=(()=>{let e=class e{transform(o){return`Dia ${o}`}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=$({name:"dailyWeatherForecastTitle",type:e,pure:!0});let t=e;return t})();var Pe=(()=>{let e=class e{constructor(){this.weather=c.required()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=g({type:e,selectors:[["app-daily-weather-forecast"]],inputs:{weather:[1,"weather"]},decls:6,vars:5,consts:[[1,"po-sm-12","po-md-4","po-lg-4","po-xl-4","po-mb-2",3,"p-title"],[1,"po-font-subtitle",2,"text-align","center"],[1,"po-font-text-small",2,"text-align","center"]],template:function(n,i){n&1&&(s(0,"po-widget",0),ie(1,"dailyWeatherForecastTitle"),s(2,"p",1),p(3),l(),s(4,"p",2),p(5),l()()),n&2&&(u("p-title",re(1,3,i.weather().day)),a(3),k(i.weather().temperature),a(2),k(i.weather().wind))},dependencies:[T,Ce,Me],encapsulation:2,changeDetection:0});let t=e;return t})();var Ie={sunny:"an an-sun",clear:"an an-sun",cloudy:"an an-cloud","partly cloudy":"an an-cloud-sun",rain:"an an-cloud-rain","light rain":"an an-cloud-rain",snow:"an an-snowflake","patchy rain nearby":"an an-cloud-rain"},Oe=(()=>{let e=class e{constructor(){this.description=c.required(),this.icon=y(()=>this.transformDescriptionIntoIcon(this.description()))}transformDescriptionIntoIcon(o){return o=(o||"").toLocaleLowerCase(),Ie[o]||""}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=g({type:e,selectors:[["app-weather-icon"]],inputs:{description:[1,"description"]},decls:1,vars:2,consts:[[2,"text-align","center"]],template:function(n,i){n&1&&X(0,"p",0),n&2&&ne(i.icon())},encapsulation:2});let t=e;return t})();var Fe=()=>({width:"70px",height:"70px","border-radius":"10px"});function Ne(t,e){t&1&&(s(0,"p",2),p(1,"Ops, ocorreu erro ao tentar buscar a previs\xE3o do tempo :("),l(),s(2,"p",3),p(3,"Tente novamente mais tarde."),l())}function We(t,e){if(t&1&&S(0,"app-daily-weather-forecast",10),t&2){let r=e.$implicit;u("weather",r)}}function ze(t,e){if(t&1&&(s(0,"p",5),p(1),l(),s(2,"p",6),p(3),l(),s(4,"p",7),p(5),l(),S(6,"app-weather-icon",8),s(7,"p",9),p(8,"Proximos dias"),l(),P(9,We,1,1,"app-daily-weather-forecast",10,B)),t&2){let r=h(3),o=f(2);a(),k(r.city()),a(2),k(o.temperature),a(2),k(o.wind),a(),u("description",o.description),a(3),O(o.forecast)}}function je(t,e){t&1&&(s(0,"p",2),p(1,"Previs\xE3o do tempo n\xE3o encontrada para a cidade informada"),l(),s(2,"p",3),p(3,"Tente novamente mais tarde."),l())}function Ve(t,e){if(t&1&&(s(0,"po-container",4),x(1,ze,11,4)(2,je,4,0),l()),t&2){h(2);let r=f(2);u("p-no-padding",!0)("p-no-border",!0),a(),C(r.temperature&&r.wind?1:2)}}function qe(t,e){if(t&1&&S(0,"ngx-skeleton-loader",11)(1,"ngx-skeleton-loader",12),t&2){let r=h(3);u("animation",r.animation),a(),u("animation",r.animation)("theme",oe(3,Fe))}}function Re(t,e){if(t&1&&x(0,qe,2,4),t&2){h(2);let r=f(4);C(r?0:-1)}}function Ue(t,e){if(t&1&&x(0,Ve,3,3,"po-container",4)(1,Re,1,1),t&2){h();let r=f(3);C(r?0:1)}}var bt=(()=>{let e=class e{constructor(){this.city=M(void 0),this.animation="progress",this.wheatherService=b(we),this.wheatherResource=this.wheatherService.getWeather,this.form=new de({city:new pe("",{nonNullable:!0,validators:[D.required,D.min(3)]})}),this.injector=b(R),this.themeService=b(ke),this.city=_e(this.form.controls.city.valueChanges??N(void 0),{injector:this.injector}),this.form.patchValue({city:"S\xE3o Paulo"}),this.animation=this.themeService.isThemeDark()?"progress-dark":"progress"}onChangeCity(){this.city()&&this.form.valid&&this.wheatherService.updateCity(this.city())}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=g({type:e,selectors:[["app-weather"]],decls:7,vars:5,consts:[["p-title","Previs\xE3o do tempo",2,"position","relative"],["p-icon","an an-map-pin","p-placeholder","Nome da Cidade: Exemplo S\xE3o Paulo","p-required","","p-clean","",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mb-1",3,"p-change","formControl"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mb-2"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mb-2",3,"p-no-padding","p-no-border"],[1,"po-font-text-large-bold",2,"text-align","center"],[1,"po-font-subtitle",2,"text-align","center"],[1,"po-font-text-small",2,"text-align","center"],[3,"description"],[1,"po-font-text-large-bold","po-mb-1"],[3,"weather"],["count","1","appearance","line",1,"h-3",3,"animation"],["count","3","appearance","circle",3,"animation","theme"]],template:function(n,i){if(n&1){let d=Z();s(0,"po-container",0)(1,"po-input",1),J("p-change",function(){return V(d),q(i.onChangeCity())}),l(),E(2)(3)(4),x(5,Ne,4,0)(6,Ue,2,1),l()}if(n&2){a(),u("formControl",i.form.controls.city),a(),_(i.wheatherResource.value()),a(),_(i.wheatherResource.hasValue()),a(),_(i.wheatherResource.isLoading());let d=i.wheatherResource.error();a(),C(d?5:6)}},dependencies:[he,ge,xe,fe,ue,ce,me,Pe,Oe,ye,be,T],encapsulation:2});let t=e;return t})();export{bt as WeatherComponent};
