import{a as O}from"./chunk-W76JX73M.js";import{D as R,F as I,Ga as k,Ha as j,N as L,Oa as z,P as M,Qa as N,oa as B}from"./chunk-HCPK7XEO.js";import{C as P,E as T,o as F,t as S}from"./chunk-MDUUVM26.js";import{$b as i,Cc as l,Dc as f,P as v,Ub as u,Vb as g,Vc as D,Wc as E,Xb as h,Yb as C,Zb as x,_b as s,ac as o,bc as c,db as n,ia as r,nc as b,oc as y,vb as _}from"./chunk-QL522RBE.js";import"./chunk-RTRJ3KFH.js";function A(e,t){if(e&1&&c(0,"po-tag",6),e&2){let a=t.$implicit;s("p-value",a)}}function H(e,t){if(e&1&&(i(0,"div",2),c(1,"po-image",3),o(),i(2,"div",4)(3,"p",5),l(4),o(),i(5,"div"),C(6,A,1,1,"po-tag",6,h),o(),i(8,"div",7)(9,"p",8),l(10,"Dura\xE7\xE3o:"),o(),i(11,"p",9),l(12),o()(),i(13,"div",7)(14,"p",8),l(15,"Data de lan\xE7amento:"),o(),i(16,"p",9),l(17),D(18,"date"),o()()()),e&2){let a=y(),m=a.film.image||"assets/img/not-found-image.jpg";n(),s("p-src",m)("p-height",300),n(3),f(a.film.name),n(2),x(a.film.genre.split(",")),n(6),f(a.film.duration),n(5),f(E(18,5,a.film.releaseDate))}}function $(e,t){e&1&&(i(0,"p",1),l(1,"Nenhum dado encontrado"),o())}function q(e,t){e&1&&c(0,"po-loading-overlay")}var Z=(()=>{let t=class t{constructor(){this.activatedRoute=r(P),this.filmsService=r(O),this.notification=r(B),this.router=r(T),this.breadcrumb={items:[{label:"Home",link:"/"},{label:"Filmes",link:"/sample/in-memory/films"},{label:"Detalhes do Filme"}]},this.isLoading=!1}ngOnInit(){this.loadFilmByRouter()}loadFilmByRouter(){this.activatedRoute.data.subscribe(({film:m})=>this.film=m)}onFilmRemove(){this.isLoading=!0,this.filmsService.delete(this.film.id).pipe(v(()=>this.isLoading=!1)).subscribe({next:()=>{this.notification.success("Registro exclu\xEDdo com sucesso"),this.router.navigate(["/sample/in-memory/films"])},error:()=>this.notification.error("Falha ao exclu\xEDr Filme")})}onFilmEdit(){this.isLoading=!0,this.router.navigate(["/sample/in-memory/films/edit",this.film.id])}};t.\u0275fac=function(d){return new(d||t)},t.\u0275cmp=_({type:t,selectors:[["app-detail"]],decls:4,vars:3,consts:[["p-title","Detalhes do Filme",3,"p-remove","p-edit","p-breadcrumb"],[1,"po-font-text-bold"],[1,"po-md-5","po-lg-5"],["p-loading","lazy","p-alt","Capa do filme",3,"p-src","p-height"],[1,"po-md-7","po-lg-7"],[1,"po-font-subtitle","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"po-mr-1",3,"p-value"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"po-font-text-bold","po-mt-2"],[1,"po-font-text"]],template:function(d,p){d&1&&(i(0,"po-page-detail",0),b("p-remove",function(){return p.onFilmRemove()})("p-edit",function(){return p.onFilmEdit()}),u(1,H,19,7)(2,$,2,0,"p",1),u(3,q,1,0,"po-loading-overlay"),o()),d&2&&(s("p-breadcrumb",p.breadcrumb),n(),g(p.film?1:2),n(2),g(p.isLoading?3:-1))},dependencies:[N,z,j,k,M,L,I,R,S,F],encapsulation:2});let e=t;return e})();export{Z as DetailComponent};
