import{a as fe}from"./chunk-WDJTCEVW.js";import{a as he}from"./chunk-5H5D62GC.js";import{$ as le,Aa as me,Ra as ue,Sa as S,_ as ce,j as T,l as ie,n as re,p as ae,s as se,ta as de,z as pe}from"./chunk-3H4NJUFE.js";import{c as te,j as ne,t as oe}from"./chunk-SBPM3P26.js";import{$b as f,$c as Q,Ab as V,Cb as h,Cc as p,Dc as g,Ea as c,Ha as b,Jc as P,Kc as C,Lc as u,Nc as K,Rc as X,Sc as Z,Tb as q,Tc as J,Ub as l,Xb as z,ac as A,bc as $,ca as D,cc as w,da as E,dc as M,ec as r,fa as F,fc as a,gc as y,gd as Y,ia as x,id as v,jb as i,kc as B,ld as ee,p as W,pc as G,qc as m,rc as U,sa as I,sc as H,ta as N,xa as j,xb as d,yb as R}from"./chunk-ROBB4PN5.js";import{a as O,e as L}from"./chunk-JKOY2XUY.js";var be=["*"],we=(e,s,t,n,o)=>({"custom-content":e,circle:s,progress:t,"progress-dark":n,pulse:o});function Me(e,s){e&1&&H(0)}function Pe(e,s){if(e&1&&(r(0,"div",0),h(1,Me,1,0),a()),e&2){let t=m(),n=u(0),o=u(1);l("ngClass",X(5,we,n==="custom-content",n==="circle",o==="progress",o==="progress-dark",o==="pulse"))("ngStyle",t.styles()),q("aria-label",t.ariaLabel())("aria-valuetext",t.loadingText()),i(),f(n==="custom-content"?1:-1)}}var ge=new F("ngx-skeleton-loader.config"),Ce=(()=>{class e{constructor(){this.#e=x(ge,{optional:!0}),this.count=c(this.#e?.count||1,{transform:Y}),this.loadingText=c(this.#e?.loadingText||"Loading..."),this.appearance=c(this.#e?.appearance||"line"),this.animation=c(this.#e?.animation||"progress"),this.ariaLabel=c(this.#e?.ariaLabel||"loading"),this.theme=c(this.#e?.theme||null),this.items=v(()=>{let t=this.count()||1;return this.appearance()==="custom-content"&&Q()&&t!==1&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),t=1),[...Array(t)].map((n,o)=>o)}),this.styles=v(()=>{let t=this.theme();return this.#e?.theme?.extendsFromRoot?O(O({},this.#e?.theme),t):t})}#e;static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=d({type:e,selectors:[["ngx-skeleton-loader"]],inputs:{count:[1,"count"],loadingText:[1,"loadingText"],appearance:[1,"appearance"],animation:[1,"animation"],ariaLabel:[1,"ariaLabel"],theme:[1,"theme"]},ngContentSelectors:be,decls:4,vars:2,consts:[["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader",3,"ngClass","ngStyle"]],template:function(n,o){n&1&&(U(),P(0)(1),w(2,Pe,2,11,"div",0,$)),n&2&&(C(o.appearance()),i(),C(o.animation()),i(),M(o.items()))},dependencies:[te,ne],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:#eff1f6 no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,#fff0,#fff9,#fff0)}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]:before{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@media screen and (min-device-width: 1200px){.skeleton-loader[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:wait}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0})}}return e})(),_e=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:ge,useValue:t}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=R({type:e})}static{this.\u0275inj=E({imports:[oe]})}}return e})();var xe=(()=>{class e{constructor(){this.apiUrl="https://goweather.herokuapp.com/weather",this.city=b("S\xE3o Paulo"),this.getWeather=ee({request:this.city,loader:o=>L(this,[o],function*({request:t,abortSignal:n}){try{return yield(yield fetch(`${this.apiUrl}/${t}`,{signal:n})).json()}catch(_){this.handleError(_)}})})}updateCity(t){this.city.set(t)}handleError(t){throw t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ye=(()=>{class e{transform(t){return`Dia ${t}`}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=V({name:"dailyWeatherForecastTitle",type:e,pure:!0})}}return e})();var ve=(()=>{class e{constructor(){this.weather=c.required()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=d({type:e,selectors:[["app-daily-weather-forecast"]],inputs:{weather:[1,"weather"]},decls:6,vars:5,consts:[[1,"po-sm-12","po-md-4","po-lg-4","po-xl-4","po-mb-2",3,"p-title"],[1,"po-font-subtitle",2,"text-align","center"],[1,"po-font-text-small",2,"text-align","center"]],template:function(n,o){n&1&&(r(0,"po-widget",0),Z(1,"dailyWeatherForecastTitle"),r(2,"p",1),p(3),a(),r(4,"p",2),p(5),a()()),n&2&&(l("p-title",J(1,3,o.weather().day)),i(3),g(o.weather().temperature),i(2),g(o.weather().wind))},dependencies:[S,ue,ye],encapsulation:2,changeDetection:0})}}return e})();var Te={sunny:"an an-sun",clear:"an an-sun",cloudy:"an an-cloud","partly cloudy":"an an-cloud-sun",rain:"an an-cloud-rain","light rain":"an an-cloud-rain",snow:"an an-snowflake","patchy rain nearby":"an an-cloud-rain"},ke=(()=>{class e{constructor(){this.description=c.required(),this.icon=v(()=>this.transformDescriptionIntoIcon(this.description()))}transformDescriptionIntoIcon(t){return t=(t||"").toLocaleLowerCase(),Te[t]||""}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=d({type:e,selectors:[["app-weather-icon"]],inputs:{description:[1,"description"]},decls:1,vars:2,consts:[[2,"text-align","center"]],template:function(n,o){n&1&&y(0,"p",0),n&2&&z(o.icon())},encapsulation:2})}}return e})();var Le=()=>({width:"70px",height:"70px","border-radius":"10px"});function We(e,s){e&1&&(r(0,"p",2),p(1,"Ops, ocorreu erro ao tentar buscar a previs\xE3o do tempo :("),a(),r(2,"p",3),p(3,"Tente novamente mais tarde."),a())}function De(e,s){if(e&1&&y(0,"app-daily-weather-forecast",10),e&2){let t=s.$implicit;l("weather",t)}}function Ee(e,s){if(e&1&&(r(0,"p",5),p(1),a(),r(2,"p",6),p(3),a(),r(4,"p",7),p(5),a(),y(6,"app-weather-icon",8),r(7,"p",9),p(8,"Proximos dias"),a(),w(9,De,1,1,"app-daily-weather-forecast",10,A)),e&2){let t=m(3),n=u(2);i(),g(t.city()),i(2),g(n.temperature),i(2),g(n.wind),i(),l("description",n.description),i(3),M(n.forecast)}}function Fe(e,s){e&1&&(r(0,"p",2),p(1,"Previs\xE3o do tempo n\xE3o encontrada para a cidade informada"),a(),r(2,"p",3),p(3,"Tente novamente mais tarde."),a())}function Ie(e,s){if(e&1&&(r(0,"po-container",4),h(1,Ee,11,4)(2,Fe,4,0),a()),e&2){m(2);let t=u(2);l("p-no-padding",!0)("p-no-border",!0),i(),f(t.temperature&&t.wind?1:2)}}function Ne(e,s){if(e&1&&y(0,"ngx-skeleton-loader",11)(1,"ngx-skeleton-loader",12),e&2){let t=m(3);l("animation",t.animation),i(),l("animation",t.animation)("theme",K(3,Le))}}function je(e,s){if(e&1&&h(0,Ne,2,4),e&2){m(2);let t=u(4);f(t?0:-1)}}function Re(e,s){if(e&1&&h(0,Ie,3,3,"po-container",4)(1,je,1,1),e&2){m();let t=u(3);f(t?0:1)}}var _t=(()=>{class e{constructor(){this.city=b(void 0),this.animation="progress",this.wheatherService=x(xe),this.wheatherResource=this.wheatherService.getWeather,this.form=new re({city:new ae("",{nonNullable:!0,validators:[T.required,T.min(3)]})}),this.injector=x(j),this.themeService=x(he),this.city=fe(this.form.controls.city.valueChanges??W(void 0),{injector:this.injector}),this.form.patchValue({city:"S\xE3o Paulo"}),this.animation=this.themeService.isThemeDark()?"progress-dark":"progress"}onChangeCity(){this.city()&&this.form.valid&&this.wheatherService.updateCity(this.city())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=d({type:e,selectors:[["app-weather"]],decls:8,vars:5,consts:[["p-title","Previs\xE3o do tempo",2,"position","relative"],["p-icon","an an-map-pin","p-placeholder","Nome da Cidade: Exemplo S\xE3o Paulo","p-required","","p-clean","",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mb-1",3,"p-change","formControl"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mb-2"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mb-2",3,"p-no-padding","p-no-border"],[1,"po-font-text-large-bold",2,"text-align","center"],[1,"po-font-subtitle",2,"text-align","center"],[1,"po-font-text-small",2,"text-align","center"],[3,"description"],[1,"po-font-text-large-bold","po-mb-1"],[3,"weather"],["count","1","appearance","line",1,"h-3",3,"animation"],["count","3","appearance","circle",3,"animation","theme"]],template:function(n,o){if(n&1){let _=B();r(0,"po-container",0)(1,"po-input",1),G("p-change",function(){return I(_),N(o.onChangeCity())}),a(),P(2)(3)(4)(5),h(6,We,4,0)(7,Re,2,1),a()}if(n&2){i(),l("formControl",o.form.controls.city),i(),C(o.wheatherResource.value()),i(),C(o.wheatherResource.hasValue()),i(),C(o.wheatherResource.isLoading());let _=o.wheatherResource.error();i(2),f(_?6:7)}},dependencies:[le,ce,me,de,pe,ie,se,ve,ke,_e,Ce,S],encapsulation:2})}}return e})();export{_t as WeatherComponent};
