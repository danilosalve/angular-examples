import{a as me}from"./chunk-OULWL5XY.js";import{a as pe}from"./chunk-2B5Y7OYA.js";import{a as le}from"./chunk-OTJEKFHK.js";import{a as ce}from"./chunk-4EOMFFPW.js";import{a as se}from"./chunk-2WLAWYUK.js";import"./chunk-XRBWZRHC.js";import{Fa as ne,Ha as oe,I as G,L as P,M,N as E,Na as ae,Oa as re,R as J,S as K,ja as X,qa as S,ta as Y,ua as ee,ya as te,za as ie}from"./chunk-EY4PQBT6.js";import"./chunk-PT7B6MVV.js";import{E as $,s as W,t as Z}from"./chunk-X3GKO6FF.js";import{$b as h,Ac as U,Bb as H,Cb as _,Cc as V,Da as g,Ea as y,Ha as v,Jc as L,Kc as k,Lc as b,Sc as j,Ub as p,Vc as N,cc as q,dc as A,ec as o,fc as a,gc as D,hb as R,ia as T,id as F,jb as u,jd as Q,kc as w,pc as l,qc as s,sa as m,sb as I,ta as d,xb as C,zc as O}from"./chunk-WCLJ7DBJ.js";import"./chunk-JKOY2XUY.js";function fe(t,c){if(t&1&&D(0,"po-table",0),t&2){let e=s();p("p-items",e.items())("p-loading",e.isLoading())("p-height",e.height)("p-columns",e.columns)("p-draggable",!0)("p-sort",!0)("p-actions",e.actions)}}var de=(()=>{class t extends ce{constructor(){let e=[".po-page-header",".po-table-actions",".app-search",".footer"];super(400,e),this.items=y.required(),this.isLoading=y(!1),this.viewDetail=g(),this.actions=[{label:"Remover",icon:"an an-trash",disabled:!0},{label:"Detalhes",action:this.onViewDetail.bind(this),icon:"an an-arrow-square-in"}],this.columns=[{property:"_id",label:"C\xF3digo",type:"number",width:"8%",sortable:!0},{property:"name",label:"Nome",type:"string",sortable:!0},{property:"name",label:"Fandon",link:"sourceUrl",type:"link",width:"20%",sortable:!0}]}ngAfterViewInit(){this.onResize()}onViewDetail(e){this.viewDetail.emit(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-disney-characters-table"]],hostBindings:function(i,n){i&1&&l("resize",function(){return n.onResize()},!1,R)},inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},outputs:{viewDetail:"viewDetail"},features:[H],decls:1,vars:1,consts:[["p-container","shadow",3,"p-items","p-loading","p-height","p-columns","p-draggable","p-sort","p-actions"]],template:function(i,n){i&1&&_(0,fe,1,7,"po-table",0),i&2&&h(n.items()?0:-1)},dependencies:[Y,X],encapsulation:2})}}return t})();function ge(t,c){if(t&1){let e=w();L(0),o(1,"po-widget",1),j(2,"slice"),l("p-click",function(){m(e);let n=s();return d(n.onViewDetail())})("p-title-action",function(){m(e);let n=s();return d(n.onTitleAction())}),L(3),D(4,"po-image",2),a()}if(t&2){let e=s(),i=e.item().name;u(),p("p-title",i.length>30?N(2,4,i,0,30)+"...":i)("p-height",280);let n=e.item().imageUrl||"assets/img/not-found-image.jpg";u(3),p("p-src",n)("p-height",200)}}var ue=(()=>{class t{constructor(){this.item=y.required(),this.viewDetail=g()}onViewDetail(){this.viewDetail.emit(this.item())}onTitleAction(){window.open(this.item().sourceUrl,"_blank")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-disney-character-card"]],inputs:{item:[1,"item"]},outputs:{viewDetail:"viewDetail"},decls:1,vars:1,consts:[["appZoomOnHover","",1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2",3,"p-title","p-height"],["appZoomOnHover","",1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2",3,"p-click","p-title-action","p-title","p-height"],["p-loading","lazy","p-alt","Imagem do personagem da Disney",3,"p-src","p-height"]],template:function(i,n){i&1&&_(0,ge,5,8,"po-widget",0),i&2&&h(n.item()?0:-1)},dependencies:[Z,W,re,ae,ie,te,le],encapsulation:2})}}return t})();var ye=(t,c)=>c._id;function we(t,c){if(t&1){let e=w();o(0,"app-disney-character-card",2),l("viewDetail",function(n){m(e);let r=s(2);return d(r.onViewDetail(n))}),a()}if(t&2){let e=c.$implicit;p("item",e)}}function ve(t,c){t&1&&(o(0,"p",1),V(1,"Nenhum dado encontrado"),a())}function De(t,c){if(t&1&&q(0,we,1,1,"app-disney-character-card",0,ye,!1,ve,2,0,"p",1),t&2){let e=s();A(e.items())}}var _e=(()=>{class t{constructor(){this.items=y.required(),this.isLoading=y(!1),this.viewDetail=g()}onViewDetail(e){this.viewDetail.emit(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-disney-characters-list"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},outputs:{viewDetail:"viewDetail"},decls:1,vars:1,consts:[[3,"item"],[1,"po-font-text-bold"],[3,"viewDetail","item"]],template:function(i,n){i&1&&_(0,De,3,1),i&2&&h(n.items()?0:-1)},dependencies:[ue,P],encapsulation:2})}}return t})();var he=(()=>{class t{constructor(){this.changeTypeView=g(),this.deviceService=T(pe),this.isTableView=v(!this.deviceService.isSmartPhone()),this.icon=F(()=>this.isTableView()?"an an-list":"an an-cards"),this.label=F(()=>this.isTableView()?"Tabela":"Lista"),Q(()=>this.changeTypeView.emit(this.isTableView()))}onChangeTypeView(){this.isTableView.update(e=>!e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-type-list-button"]],outputs:{changeTypeView:"changeTypeView"},decls:1,vars:2,consts:[["p-size","medium","p-kind","tertiary",3,"p-click","p-label","p-icon"]],template:function(i,n){i&1&&(o(0,"po-button",0),l("p-click",function(){return n.onChangeTypeView()}),a()),i&2&&p("p-label",n.label())("p-icon",n.icon())},dependencies:[E,M],encapsulation:2})}}return t})();function be(t,c){if(t&1){let e=w();o(0,"app-disney-characters-table",10),l("viewDetail",function(n){m(e);let r=s(3);return d(r.onViewDetail(n))}),a()}if(t&2){s(3);let e=b(1),i=b(3);p("items",e.data)("isLoading",i)}}function xe(t,c){if(t&1){let e=w();o(0,"app-disney-characters-list",10),l("viewDetail",function(n){m(e);let r=s(3);return d(r.onViewDetail(n))}),a()}if(t&2){s(3);let e=b(1),i=b(3);p("items",e.data)("isLoading",i)}}function Te(t,c){if(t&1&&(o(0,"div",1)(1,"po-container",4),_(2,be,1,2,"app-disney-characters-table",9)(3,xe,1,2,"app-disney-characters-list",9),a()()),t&2){let e=s(2);u(2),h(e.isTableView()?2:3)}}function Ve(t,c){if(t&1&&_(0,Te,4,1,"div",1),t&2){s();let e=b(1);h(e?0:-1)}}function Le(t,c){t&1&&(o(0,"po-container",4)(1,"p",11),V(2,"Nenhum personagem foi encontrado"),a()())}function Se(t,c){t&1&&(o(0,"po-container",4)(1,"p",11),V(2,"Ops, ocorreu erro ao tentar listar os Personagens :("),a()())}var rt=(()=>{class t{constructor(){this.isTableView=v(!0),this.disneyService=T(me),this.disneyResource=this.disneyService.getCharacters,this.filter=v(""),this.optionsSize=[{label:"12",value:12},{label:"50",value:50},{label:"100",value:100}],this.page=v(1),this.poSelect=I(S),this.size=v(12),this.router=T($)}ngAfterContentInit(){this.poSelect().modelValue=this.size()}onChangeSize(e){this.size.set(e),this.disneyService.updatePagination(1,this.size())}onShowMore(){this.page.update(e=>e+1),this.disneyService.updatePagination(1,this.size()*this.page())}onChangeFilter(e){this.disneyService.setFilter(e)}onChangeTypeView(e){this.isTableView.set(e)}onViewDetail(e){this.router.navigate([`sample/resources-api/disney/detail/${e._id}`])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-characters-list"]],viewQuery:function(i,n){i&1&&O(n.poSelect,S,5),i&2&&U()},decls:15,vars:8,consts:[["p-title","Personagens | Disney","p-subtitle","RxResource - Pagina\xE7\xE3o"],[1,"po-row"],[1,"po-xl-1","po-lg-2","po-md-6","po-sm-12","po-mt-1",3,"changeTypeView"],[1,"po-offset-lg-6","po-offset-xl-8","po-xl-3","po-lg-4","po-offset-lg-6","po-md-6","po-sm-12","po-mb-1",3,"changeInValue"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-1"],[1,"footer","po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-lg-3"],["p-label","Carregar mais resultados","p-kind","primary",1,"po-offset-lg-4","po-offset-xl-4","po-xl-4","po-lg-4","po-md-6","po-sm-12","po-mt-4",3,"p-click","p-disabled","p-loading"],["p-label","Itens por p\xE1gina","name","size",1,"po-offset-lg-2","po-offset-xl-2","po-sm-12","po-md-6","po-lg-2","po-xl-2",3,"p-change","p-options"],["p-text","Carregando personagens",3,"hidden"],[3,"items","isLoading"],[3,"viewDetail","items","isLoading"],[1,"po-font-text-bold"]],template:function(i,n){if(i&1){let r=w();o(0,"po-page-default",0),L(1)(2)(3)(4),o(5,"div",1)(6,"app-type-list-button",2),l("changeTypeView",function(f){return m(r),d(n.onChangeTypeView(f))}),a(),o(7,"app-search",3),l("changeInValue",function(f){return m(r),d(n.onChangeFilter(f))}),a()(),_(8,Ve,1,1)(9,Le,3,0,"po-container",4),o(10,"div",5)(11,"po-button",6),l("p-click",function(){return m(r),d(n.onShowMore())}),a(),o(12,"po-select",7),l("p-change",function(f){return m(r),d(n.onChangeSize(f))}),a()(),_(13,Se,3,0,"po-container",4),D(14,"po-loading-overlay",8),a()}if(i&2){u();let r=k(n.disneyResource.value()),x=n.disneyResource.hasValue();u(2);let f=k(n.disneyResource.isLoading()),Ce=n.disneyResource.error();u(5),h(x?8:9),u(3),p("p-disabled",(r==null||r.info==null?null:r.info.nextPage)===null)("p-loading",f),u(),p("p-options",n.optionsSize),u(),h(Ce?13:-1),u(),p("hidden",!f)}},dependencies:[oe,ne,ee,S,E,M,P,G,se,K,J,he,_e,de],encapsulation:2})}}return t})();export{rt as CharactersListComponent};
