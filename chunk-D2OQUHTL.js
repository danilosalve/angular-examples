import{a as ce}from"./chunk-WZDF3MJC.js";import{a as pe}from"./chunk-HMMNJ6YU.js";import{a as le}from"./chunk-4EOMFFPW.js";import{a as se}from"./chunk-PXIBFRBU.js";import"./chunk-TO6ILXDP.js";import{Fa as ne,Ha as oe,Na as ae,Oa as re,R as J,S as P,T as M,U as E,ba as K,ca as X,ja as Y,qa as S,ta as Z,ua as ee,ya as te,za as ie}from"./chunk-RIDVCV55.js";import"./chunk-GXM4UOOP.js";import{j as G}from"./chunk-A76WCV23.js";import{$c as F,Bb as _,Da as g,Ea as y,Ec as L,Fc as k,Gc as D,Hd as $,Ia as v,Id as O,Nc as N,Qc as Q,Tb as p,Zb as h,ac as A,bc as U,cc as o,cd as W,dc as a,ec as b,fb as R,hb as u,ia as T,ic as w,kc as l,lc as s,qb as I,sa as m,ta as d,uc as j,vb as C,vc as H,xc as V,zb as q}from"./chunk-VHTPDAAZ.js";import"./chunk-JKOY2XUY.js";function Ce(t,c){if(t&1&&b(0,"po-table",0),t&2){let e=s();p("p-items",e.items())("p-loading",e.isLoading())("p-height",e.height)("p-columns",e.columns)("p-draggable",!0)("p-sort",!0)("p-actions",e.actions)}}var me=(()=>{class t extends le{constructor(){let e=[".po-page-header",".po-table-actions",".app-search",".footer"];super(400,e),this.items=y.required(),this.isLoading=y(!1),this.viewDetail=g(),this.actions=[{label:"Remover",icon:"an an-trash",disabled:!0},{label:"Detalhes",action:this.onViewDetail.bind(this),icon:"an an-arrow-square-in"}],this.columns=[{property:"_id",label:"C\xF3digo",type:"number",width:"8%",sortable:!0},{property:"name",label:"Nome",type:"string",sortable:!0},{property:"name",label:"Fandon",link:"sourceUrl",type:"link",width:"20%",sortable:!0}]}ngAfterViewInit(){this.onResize()}onViewDetail(e){this.viewDetail.emit(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-disney-characters-table"]],hostBindings:function(i,n){i&1&&l("resize",function(){return n.onResize()},!1,R)},inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},outputs:{viewDetail:"viewDetail"},features:[q],decls:1,vars:1,consts:[["p-container","shadow",3,"p-items","p-loading","p-height","p-columns","p-draggable","p-sort","p-actions"]],template:function(i,n){i&1&&_(0,Ce,1,7,"po-table",0),i&2&&h(n.items()?0:-1)},dependencies:[Z,Y],encapsulation:2})}}return t})();function fe(t,c){if(t&1){let e=w();L(0),o(1,"po-widget",1),N(2,"slice"),l("p-click",function(){m(e);let n=s();return d(n.onViewDetail())})("p-title-action",function(){m(e);let n=s();return d(n.onTitleAction())}),L(3),b(4,"po-image",2),a()}if(t&2){let e=s(),i=e.item().name;u(),p("p-title",i.length>30?Q(2,3,i,0,30)+"...":i)("p-height",280);let n=e.item().imageUrl||"assets/img/not-found-image.jpg";u(3),p("p-src",n)}}var de=(()=>{class t{constructor(){this.item=y.required(),this.viewDetail=g()}onViewDetail(){this.viewDetail.emit(this.item())}onTitleAction(){window.open(this.item().sourceUrl,"_blank")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-disney-character-card"]],inputs:{item:[1,"item"]},outputs:{viewDetail:"viewDetail"},decls:1,vars:1,consts:[[1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2",3,"p-title","p-height"],[1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2",3,"p-click","p-title-action","p-title","p-height"],["p-loading","lazy","p-alt","Imagem do personagem da Disney",3,"p-src"]],template:function(i,n){i&1&&_(0,fe,5,7,"po-widget",0),i&2&&h(n.item()?0:-1)},dependencies:[O,$,re,ae,ie,te],encapsulation:2})}}return t})();var ge=(t,c)=>c._id;function ye(t,c){if(t&1){let e=w();o(0,"app-disney-character-card",2),l("viewDetail",function(n){m(e);let r=s(2);return d(r.onViewDetail(n))}),a()}if(t&2){let e=c.$implicit;p("item",e)}}function we(t,c){t&1&&(o(0,"p",1),V(1,"Nenhum dado encontrado"),a())}function ve(t,c){if(t&1&&A(0,ye,1,1,"app-disney-character-card",0,ge,!1,we,2,0,"p",1),t&2){let e=s();U(e.items())}}var ue=(()=>{class t{constructor(){this.items=y.required(),this.isLoading=y(!1),this.viewDetail=g()}onViewDetail(e){this.viewDetail.emit(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-disney-characters-list"]],inputs:{items:[1,"items"],isLoading:[1,"isLoading"]},outputs:{viewDetail:"viewDetail"},decls:1,vars:1,consts:[[3,"item"],[1,"po-font-text-bold"],[3,"viewDetail","item"]],template:function(i,n){i&1&&_(0,ve,3,1),i&2&&h(n.items()?0:-1)},dependencies:[de,P],encapsulation:2})}}return t})();var _e=(()=>{class t{constructor(){this.changeTypeView=g(),this.deviceService=T(pe),this.isTableView=v(!this.deviceService.isSmartPhone()),this.icon=F(()=>this.isTableView()?"an an-list":"an an-cards"),this.label=F(()=>this.isTableView()?"Tabela":"Lista"),W(()=>this.changeTypeView.emit(this.isTableView()))}onChangeTypeView(){this.isTableView.update(e=>!e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-type-list-button"]],outputs:{changeTypeView:"changeTypeView"},decls:1,vars:2,consts:[["p-size","medium","p-kind","tertiary",3,"p-click","p-label","p-icon"]],template:function(i,n){i&1&&(o(0,"po-button",0),l("p-click",function(){return n.onChangeTypeView()}),a()),i&2&&p("p-label",n.label())("p-icon",n.icon())},dependencies:[E,M],encapsulation:2})}}return t})();function be(t,c){if(t&1){let e=w();o(0,"app-disney-characters-table",10),l("viewDetail",function(n){m(e);let r=s(3);return d(r.onViewDetail(n))}),a()}if(t&2){s(3);let e=D(1),i=D(3);p("items",e.data)("isLoading",i)}}function De(t,c){if(t&1){let e=w();o(0,"app-disney-characters-list",10),l("viewDetail",function(n){m(e);let r=s(3);return d(r.onViewDetail(n))}),a()}if(t&2){s(3);let e=D(1),i=D(3);p("items",e.data)("isLoading",i)}}function xe(t,c){if(t&1&&(o(0,"div",1)(1,"po-container",4),_(2,be,1,2,"app-disney-characters-table",9)(3,De,1,2,"app-disney-characters-list",9),a()()),t&2){let e=s(2);u(2),h(e.isTableView()?2:3)}}function Te(t,c){if(t&1&&_(0,xe,4,1,"div",1),t&2){s();let e=D(1);h(e?0:-1)}}function Ve(t,c){t&1&&(o(0,"po-container",4)(1,"p",11),V(2,"Nenhum personagem foi encontrado"),a()())}function Le(t,c){t&1&&(o(0,"po-container",4)(1,"p",11),V(2,"Ops, ocorreu erro ao tentar listar os Personagens :("),a()())}var ot=(()=>{class t{constructor(){this.isTableView=v(!0),this.disneyService=T(ce),this.disneyResource=this.disneyService.getCharacters,this.filter=v(""),this.optionsSize=[{label:"12",value:12},{label:"50",value:50},{label:"100",value:100}],this.page=v(1),this.poSelect=I(S),this.size=v(12),this.router=T(G)}ngAfterContentInit(){this.poSelect().modelValue=this.size()}onChangeSize(e){this.size.set(e),this.disneyService.updatePagination(1,this.size())}onShowMore(){this.page.update(e=>e+1),this.disneyService.updatePagination(1,this.size()*this.page())}onChangeFilter(e){this.disneyService.setFilter(e)}onChangeTypeView(e){this.isTableView.set(e)}onViewDetail(e){this.router.navigate([`sample/resources-api/disney/detail/${e._id}`])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-characters-list"]],viewQuery:function(i,n){i&1&&j(n.poSelect,S,5),i&2&&H()},decls:15,vars:8,consts:[["p-title","Personagens | Disney","p-subtitle","RxResource - Pagina\xE7\xE3o"],[1,"po-row"],[1,"po-xl-1","po-lg-2","po-md-6","po-sm-12","po-mt-1",3,"changeTypeView"],[1,"po-offset-lg-6","po-offset-xl-8","po-xl-3","po-lg-4","po-offset-lg-6","po-md-6","po-sm-12","po-mb-1",3,"changeInValue"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-1"],[1,"footer","po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-lg-3"],["p-label","Carregar mais resultados","p-kind","primary",1,"po-offset-lg-4","po-offset-xl-4","po-xl-4","po-lg-4","po-md-6","po-sm-12","po-mt-4",3,"p-click","p-disabled","p-loading"],["p-label","Itens por p\xE1gina","name","size",1,"po-offset-lg-2","po-offset-xl-2","po-sm-12","po-md-6","po-lg-2","po-xl-2",3,"p-change","p-options"],["p-text","Carregando personagens",3,"hidden"],[3,"items","isLoading"],[3,"viewDetail","items","isLoading"],[1,"po-font-text-bold"]],template:function(i,n){if(i&1){let r=w();o(0,"po-page-default",0),L(1)(2)(3)(4),o(5,"div",1)(6,"app-type-list-button",2),l("changeTypeView",function(f){return m(r),d(n.onChangeTypeView(f))}),a(),o(7,"app-search",3),l("changeInValue",function(f){return m(r),d(n.onChangeFilter(f))}),a()(),_(8,Te,1,1)(9,Ve,3,0,"po-container",4),o(10,"div",5)(11,"po-button",6),l("p-click",function(){return m(r),d(n.onShowMore())}),a(),o(12,"po-select",7),l("p-change",function(f){return m(r),d(n.onChangeSize(f))}),a()(),_(13,Le,3,0,"po-container",4),b(14,"po-loading-overlay",8),a()}if(i&2){u();let r=k(n.disneyResource.value()),x=n.disneyResource.hasValue();u(2);let f=k(n.disneyResource.isLoading()),he=n.disneyResource.error();u(5),h(x?8:9),u(3),p("p-disabled",(r==null||r.info==null?null:r.info.nextPage)===null)("p-loading",f),u(),p("p-options",n.optionsSize),u(),h(he?13:-1),u(),p("hidden",!f)}},dependencies:[oe,ne,ee,S,E,M,P,J,se,X,K,_e,ue,me],encapsulation:2})}}return t})();export{ot as CharactersListComponent};
