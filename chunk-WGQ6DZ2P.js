import{a as te,b as ne}from"./chunk-R7KXNNBF.js";import{a as ee}from"./chunk-UH7OSALQ.js";import{a as oe}from"./chunk-66LOU6LM.js";import{Fa as U,Ha as X,Na as Y,Oa as Z,R as T,S as b,T as J,U as E,ba as V,ca as I,ya as K,za as Q}from"./chunk-WPXD2HJP.js";import"./chunk-GXM4UOOP.js";import{j as G}from"./chunk-A76WCV23.js";import{Ac as q,Ad as z,Bb as _,Cd as N,Da as W,Ea as d,Ec as j,I as R,Id as A,Nc as x,Oc as w,P as D,Tb as m,Zb as h,_b as M,ac as v,bc as S,cc as i,dc as p,ec as a,hb as s,ia as L,ic as P,kc as g,lc as l,o as F,sa as k,t as $,ta as C,vb as c,xc as f,yc as H}from"./chunk-VHTPDAAZ.js";import"./chunk-JKOY2XUY.js";function me(e,r){if(e&1&&(i(0,"p",0),f(1),p()),e&2){let o,t=l();s(),q(" Exibindo: 1 - ",(o=t.pokemons())==null||o.results==null?null:o.results.length," de ",(o=t.pokemons())==null?null:o.count," ")}}var ie=(()=>{class e{constructor(){this.pokemons=d.required()}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=c({type:e,selectors:[["app-pokemon-results"]],inputs:{pokemons:[1,"pokemons"]},decls:1,vars:1,consts:[[1,"po-font-text-small","po-xl-12","po-lg-12","po-md-12","po-sm-12"]],template:function(t,n){t&1&&_(0,me,2,2,"p",0),t&2&&h(n.pokemons()?0:-1)},encapsulation:2})}}return e})();function ae(e,r){if(e&1&&a(0,"app-types-of-pokemon",5),e&2){let o=r.$implicit;m("typeofPokemon",o.type.name)}}function le(e,r){if(e&1){let o=P();i(0,"po-widget",1),g("p-click",function(){k(o);let n=l();return C(n.onClick())}),a(1,"po-image",2),i(2,"p",3),f(3),x(4,"idPokemon"),p(),i(5,"p",4),f(6),x(7,"titlecase"),p(),v(8,ae,1,1,"app-types-of-pokemon",5,M),p()}if(e&2){let o=l();s(),m("p-src",o.pokemon().sprites.other["official-artwork"].front_default||o.pokemon().sprites.front_default||""),s(2),H(w(4,3,o.pokemon().id)),s(3),H(w(7,5,o.pokemon().name)),s(2),S(o.pokemon().types)}}function de(e,r){e&1&&(i(0,"p"),f(1,"Pokemon inv\xE1lido"),p())}var se=(()=>{class e{constructor(){this.pokemon=d.required(),this.router=L(G)}onClick(){this.router.navigate([`sample/pokedex/detail/${this.pokemon().id}`])}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=c({type:e,selectors:[["app-pokemon-card"]],inputs:{pokemon:[1,"pokemon"]},decls:2,vars:1,consts:[[1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2"],[1,"po-xl-2","po-lg-4","po-md-6","po-sm-12","po-mb-2",3,"p-click"],["p-loading","lazy","p-alt","Imagem do pokemon",3,"p-src"],[1,"po-font-text-smaller"],[1,"po-font-text-large-bold"],[3,"typeofPokemon"]],template:function(t,n){t&1&&_(0,le,10,7,"po-widget",0)(1,de,2,0,"p"),t&2&&h(n.pokemon()?0:1)},dependencies:[Z,Y,Q,K,N,te,ne],encapsulation:2})}}return e})();function ce(e,r){if(e&1&&a(0,"app-pokemon-card",1),e&2){let o=r.$implicit;m("pokemon",o)}}function fe(e,r){if(e&1){let o=P();i(0,"po-container",0),v(1,ce,1,1,"app-pokemon-card",1,M),p(),i(3,"po-container",2)(4,"po-button",3),g("p-click",function(){k(o);let n=l();return C(n.onShowMore())}),p()()}if(e&2){let o,t,n=l();s(),S((o=n.pokemons())==null?null:o.results),s(3),m("p-disabled",((t=n.pokemons())==null?null:t.next)===null)("p-loading",!n.isHideLoading())}}function ue(e,r){e&1&&a(0,"po-loading-overlay",4)}function ke(e,r){e&1&&(i(0,"po-container",2)(1,"p",5),f(2,"Nenhum Pok\xE9mon foi encontrado"),p()())}function Ce(e,r){if(e&1&&_(0,ue,1,0,"po-loading-overlay",4)(1,ke,3,0,"po-container",2),e&2){let o=l();h(o.isLoadShowMore()?0:1)}}var re=(()=>{class e{constructor(){this.pokemons=d.required(),this.isLoadShowMore=d(!1),this.isHideLoading=d(!1),this.showMore=W()}onShowMore(){this.showMore.emit()}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=c({type:e,selectors:[["app-list-of-pokemons-cards"]],inputs:{pokemons:[1,"pokemons"],isLoadShowMore:[1,"isLoadShowMore"],isHideLoading:[1,"isHideLoading"]},outputs:{showMore:"showMore"},decls:2,vars:1,consts:[[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-2"],[3,"pokemon"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-4"],["p-label","Carregar mais","p-kind","primary",1,"po-offset-md-3","po-offset-lg-4","po-offset-xl-4","po-xl-4","po-lg-4","po-md-6","po-sm-12",3,"p-click","p-disabled","p-loading"],["p-text","Carregando lista de Pok\xE9mons"],[1,"po-font-text-bold"]],template:function(t,n){t&1&&_(0,fe,5,2)(1,Ce,2,1),t&2&&h(n.pokemons()?0:1)},dependencies:[I,V,b,T,se,E,J],encapsulation:2})}}return e})();var ze=(()=>{class e{constructor(){this.pokemonService=L(ee),this.results=[],this.isHideLoading=!1,this.offset=0,this.isLoadShowMore=!1}ngOnInit(){this.getPokemons(0)}onShowMore(){this.isLoadShowMore=!0,this.offset+=12,this.getPokemons(this.offset)}getPokemons(o){this.pokemons$=this.pokemonService.getListPokemonsWithDetail(o).pipe(R(t=>{let{count:n,next:u,previous:O,results:y}=t;return this.results=this.results.concat(y),F(y).pipe($(()=>({count:n,next:u,previous:O,results:this.results})))}),D(()=>this.isHideLoading=!0))}onChangeFilter(o){this.isLoadShowMore=!1,this.results=[],o?this.pokemons$=this.pokemonService.getByNameWithDetail(o).pipe(D(()=>this.isHideLoading=!0)):(this.offset=0,this.getPokemons(0))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=c({type:e,selectors:[["app-pokemon-list"]],decls:9,vars:7,consts:[["p-title","Pokedex"],[1,"po-row"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-2"],[1,"po-xl-3","po-lg-4","po-md-8","po-sm-12","po-mb-1",3,"changeInValue"],["data-cy","app-results",3,"pokemons"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-2",3,"showMore","pokemons","isLoadShowMore","isHideLoading"],[3,"hidden"]],template:function(t,n){if(t&1){let u=P();i(0,"po-page-default",0),j(1),x(2,"async"),i(3,"div",1)(4,"po-container",2)(5,"app-search",3),g("changeInValue",function(y){return k(u),C(n.onChangeFilter(y))}),p(),a(6,"app-pokemon-results",4),p(),i(7,"app-list-of-pokemons-cards",5),g("showMore",function(){return k(u),C(n.onShowMore())}),p()()(),a(8,"po-loading-overlay",6)}if(t&2){let u=w(2,5,n.pokemons$);s(6),m("pokemons",u),s(),m("pokemons",u)("isLoadShowMore",n.isLoadShowMore)("isHideLoading",n.isHideLoading),s(),m("hidden",n.isHideLoading)}},dependencies:[A,z,X,U,b,T,I,V,E,oe,ie,re],encapsulation:2})}}return e})();export{ze as PokemonListComponent};
